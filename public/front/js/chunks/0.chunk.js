webpackJsonp([0],{626:function(t,e,n){var i=n(25)(n(629),n(630),!1,function(t){n(627)},null,null);t.exports=i.exports},627:function(t,e,n){var i=n(628);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(625)("845afb0a",i,!0,{})},628:function(t,e,n){(t.exports=n(76)(!1)).push([t.i,"",""])},629:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{}},created:function(){},mounted:function(){},computed:{selected:function(){return this.ship_id===this.price[1].id}},props:{price:{required:!0},ship_id:{required:!0}},methods:{handleSelect:function(){if(this.selected)return!1;this.$emit("changeVehicle",this.price[1].id)}}}},630:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vehicle-slider"},[n("div",{staticClass:"vehicle-cost"},[n("div",{staticClass:"cost-field"},[n("span",[t._v(t._s(t.price[0].toString().replace(".",",")))]),t._v(" "),n("i",{staticClass:"fa fa-euro"})])]),t._v(" "),n("div",{staticClass:"vehicle-image"},[n("div",{staticClass:"vehicle-images-wrapper"},[n("li",{class:{"is-checked":!0===t.selected,checkbox:!0,check:!0},on:{click:t.handleSelect}}),t._v(" "),n("img",{attrs:{src:"/images/shippings/"+t.price[1].img,alt:""}})])]),t._v(" "),n("div",{staticClass:"vehicle-name"},[t._v(t._s(t.price[1].title))]),t._v(" "),n("div",{staticClass:"vehicle-dimenstions"},[n("span",[n("b",[t._v(t._s(t.trans("front.create.width"))+":")]),t._v("\n      "+t._s((t.price[1].width/10).toFixed(2))+"\n    ")]),t._v(" "),n("span",[n("b",[t._v(t._s(t.trans("front.create.length"))+":")]),t._v("\n      "+t._s((t.price[1].length/10).toFixed(2))+"\n    ")]),t._v(" "),n("span",[n("b",[t._v(t._s(t.trans("front.create.height"))+":")]),t._v("\n      "+t._s((t.price[1].height/10).toFixed(2))+"\n    ")])])])},staticRenderFns:[]}},632:function(t,e,n){"use strict";e.a=[{props:{name:"numberOfStops",placeholder:trans("front.bystop.numberOfStops"),tooltiptitle:trans("front.bystop.numberOfStopsDesc"),id:"TournumberOfStops",validate:"required|numeric|min_value:2",numeric:!0},model:"numberOfStops"},{props:{name:"totalweight",id:trans("front.bystop.totalweight"),placeholder:trans("front.bystop.totalweight"),tooltiptitle:trans("front.bystop.totalweight"),validate:"required|decimal:2|min_value:1",numeric:!0},model:"totalWeight"},{props:{name:"timePerStop",placeholder:trans("front.bystop.timePerStop"),tooltiptitle:trans("front.bystop.timePerStopDesc"),id:"tour_average_stop_time",validate:"required|numeric|min_value:1",numeric:!0},model:"timePerStop"},{props:{name:"numberofloadedpacket",id:"tour_total_packets_number",placeholder:trans("front.bystop.numberofloadedpackets"),tooltiptitle:trans("front.bystop.numberofloadedpackets"),validate:"required|numeric|min_value:1",numeric:!0},model:"numberOfPackets"},{props:{name:"totalTimeOfStops",placeholder:trans("front.bystop.totalTimeOfStops"),tooltiptitle:trans("front.bystop.totalTimeOfStopsDesc"),id:trans("front.bystop.totalTimeOfStops"),validate:"required|decimal|min_value:5",numeric:!0},if:!0,model:"totalTimeOfStops"},{props:{name:"totalDistanceStops",placeholder:trans("front.bystop.totalDistanceStops"),tooltiptitle:trans("front.bystop.totalDistanceStopsDesc"),id:trans("front.bystop.totalDistanceStops"),validate:"required|decimal|min_value:1",numeric:!0},if:!0,model:"totalDistanceStops"}]},633:function(t,e,n){var i=n(25)(n(634),n(635),!1,null,null,null);t.exports=i.exports},634:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{carouselChanging:!1}},computed:{startIndex:function(){var t=this;if(0!==this.ship){var e=this.orderVehicles[0].filter(function(e){return e.id===t.ship});if(0!==e.length)return this.tour.ship_id=this.ship,this.orderVehicles[0].indexOf(e[0])}return 0},orderVehicles:function(){var t=this,e=this.stopsGeneral.totalDistanceStops,n=this.shippings.filter(function(e){return Number(e.pay_load_max)>=Number(t.stopsGeneral.totalWeight)}),i=this.distances.filter(function(t){return e>=t.min&&e<=t.max})[0];return(n=n.filter(function(t){return t.costs.filter(function(t){return t.distance_id===i.id}).length>=1})).length<1?(this.snotified||(this.snotified=this.$snotify.warning(trans("front.create.noVehilcles"),trans("front.create.noVehilclesHead"),{timeout:0,pauseOnHover:!0})),this.tour.ship_id=0,[]):(this.snotified&&(this.$snotify.remove(this.snotified.id),this.snotified=null),this.tour.ship_id=n[0].id,[n,i.id])}},props:{shippings:{required:!0,type:Array},distances:{required:!0,type:Array},tour:{required:!0},stopsGeneral:{required:!0},stops:{required:!0},ship:{required:!1,default:0},loadTime:{required:!1,default:"loadTime"}},watch:{orderVehicles:function(t,e){var n=this;this.carouselChanging=!0,this.$nextTick(function(){n.carouselChanging=!1})}},methods:{changeTourPrice:function(t,e){this.tour.ship_id===e&&(this.tour.price=t)},slideChange:function(t){var e=this;this.orderVehicles[0][t]&&(this.tour.ship_id=this.orderVehicles[0][t].id,this.$nextTick(function(){e.$emit("myveichleChanged",e.tour.ship_id)}))},vehicleChanged:function(t){this.tour.ship_id=t},getLoadTime:function(t){var e=this;return!0===this.$parent.allowStops?this.stops.map(function(t){return t[e.loadTime]}).reduce(function(t,e){return t+e},0)-t:this.stopsGeneral.timePerStop*this.stopsGeneral.numberOfStops-t},price:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var e=Number(this.stopsGeneral.totalDistanceStops),n=(Number(this.stopsGeneral.totalTimeOfStops),t[0]),i=t[1];if(!t[0]||!t[0].length)return[];var r=this.getLoadTime(n.specs.min_load_time)*n.specs.cost_per_unit,o=n.costs.filter(function(t){return t.distance_id===i});if((o=o[0]).cost_per_kilo*e<o.min_cost)var s=(o.min_cost+r).toFixed(2);else s=(o.cost_per_kilo*e+r).toFixed(2);return this.changeTourPrice(s,n.id),[s,n]},animateCarsouel:function(){var t=this;return!!this.$refs.vehicleCarsouel&&(window.ahmedcars=this.$refs.vehicleCarsouel,this.$refs.vehicleCarsouel.goNext(),0!==this.$refs.vehicleCarsouel.currentIndex&&void setTimeout(function(){t.animateCarsouel()},200))}},components:{"vehicle-show":n(626)},created:function(){},mounted:function(){0===this.ship&&this.animateCarsouel()}}},635:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.orderVehicles[0]&&0!==t.orderVehicles[0].length&&!t.carouselChanging?n("carousel-3d",{ref:"vehicleCarsouel",attrs:{startIndex:t.startIndex,perspective:180,display:1,"controls-visible":!0,height:200,width:260},on:{"before-slide-change":t.slideChange}},t._l(t.orderVehicles[0],function(e,i){return n("slide",{key:"vehicleslide"+i,attrs:{index:i}},[n("vehicle-show",{attrs:{ship_id:t.tour.ship_id,price:t.price([e,t.orderVehicles[1]])},on:{changeVehicle:t.vehicleChanged}})],1)}),1):t._e()},staticRenderFns:[]}},636:function(t,e,n){"use strict";e.a=[{options:{text:window.trans("front.accounting.sameDay"),value:0},every:function(t){return window.moment(t,"l")}},{options:{text:window.trans("front.accounting.startOfWeek"),value:1},every:function(t){var e=window.moment(t,"l").startOf("week");return e.isBefore(window.moment(t,"l"))?window.moment(e,"l").add(1,"week"):e}},{options:{text:window.trans("front.accounting.endOfWeek"),value:2},every:function(t){var e=window.moment(t,"l").endOf("week");return e.isBefore(window.moment(t,"l"))?window.moment(e,"l").add(1,"week"):e}},{options:{text:window.trans("front.accounting.startOfMonth"),value:3},every:function(t){var e=window.moment(t,"l").startOf("month");return e.isBefore(window.moment(t,"l"))?window.moment(e,"l").add(1,"month"):e}},{options:{text:window.trans("front.accounting.endOfMonth"),value:4},every:function(t){var e=window.moment(t,"l").endOf("month");return e.isBefore(window.moment(t,"l"))?window.moment(e,"l").add(1,"month"):e}},{options:{text:window.trans("front.accounting.halfOfMonth"),value:5},every:function(t){var e=window.moment(t,"l").set({date:15});return e.isBefore(window.moment(t,"l"))?window.moment(e).endOf("month"):e}},{options:{text:window.trans("front.accounting.endOfQuarter"),value:6},every:function(t){var e=window.moment(t,"l").endOf("quarter");return e.isBefore(window.moment(t,"l"))?window.moment(e,"l").add(1,"quarter"):e}},{options:{text:window.trans("front.accounting.halfYear"),value:7},every:function(t){var e=window.moment(t,"l").endOf("year").subtract(.5,"year");return e.isBefore(window.moment(t,"l"))?window.moment(e).endOf("year"):e}},{options:{text:window.trans("front.accounting.endOfYear"),value:8},every:function(t){var e=window.moment(t,"l").endOf("year");return e.isBefore(window.moment(t,"l"))?window.moment(e,"l").add(1,"year"):e}}]},742:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{tour:{},acceptedOffer:{}}},computed:{termsAccepted:function(){return!(!this.tour||!this.tour.tour_details)&&this.tour.tour_details.terms_accepted},offerDisabled:function(){var t=this;return!(!this.tour||!this.tour.tour_offer)&&this.tour.tour_offer.some(function(e){return!!e.customer_accepted&&(t.acceptedOffer=e,!0)})},loginDisabled:function(){return this.acceptedOffer&&this.acceptedOffer.id>0&&(this.tour.isAuth<2||!this.tour.isAuth)}},props:{},watch:{},methods:{acceptOffer:function(t){this.acceptedOffer=t,2===this.tour.isAuth&&this.$vss.post(this.formData(t))},formData:function(t){var e=this;return{url:"/api/tours/accept",data:{offer:t.id,tour:this.$route.params.tourId},successServer:function(t){e.tour.tour_offer=t.body.tour_offer},failedValidate:function(t){},failServer:function(t){}}},getOffer:function(t){var e=this;this.$http.get("/api/tours/tour/"+this.tour.encrypted+"/offer/"+t.data.offer_id).then(function(t){e.tour.tour_offer.some(function(e){return e.id===t.data.id})||e.tour.tour_offer.push(t.data)})}},components:{"kurier-offers":n(743),"stops-information":n(749),"tour-stops":n(758),"ship-information":n(769),"tour-details":n(772),"tour-times":n(775),"kurier-login":n(793),"kurier-accept":n(805),"kurier-payment":n(811)},created:function(){var t=this;this.$http.get("/api/tours/tour/"+this.$route.params.tourId+"?offers=true").then(function(e){e&&e.data&&e.data.calculations||t.$router.push("geschaeftskundenportal/tour/"+t.$route.params.tourId),t.tour=e.data,window.Echo.channel("offerTour"+t.tour.id).listen(".newOffer"+t.tour.id,function(e){t.getOffer(e)})})},mounted:function(){$('[data-toggle="tooltip"]').tooltip()}}},743:function(t,e,n){var i=n(25)(n(744),n(748),!1,null,null,null);t.exports=i.exports},744:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{}},computed:{},props:{offerDisabled:{required:!0},acceptOffer:{required:!0},tour:{required:!0},isAuth:{required:!0}},watch:{},methods:{},components:{"klink-offer":n(745)},created:function(){},mounted:function(){}}},745:function(t,e,n){var i=n(25)(n(746),n(747),!1,null,null,null);t.exports=i.exports},746:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{shown:!1}},computed:{vehicle_weight:function(){return this.offer.tour_vehicle&&this.offer.tour_vehicle.weight?this.offer.tour_vehicle.weight:this.offer.tour_vehicle&&this.offer.tour_vehicle.ship&&this.offer.tour_vehicle.ship.pay_load_max?this.offer.tour_vehicle.ship.pay_load_max:0},ship_name:function(){return this.offer.tour_vehicle&&this.offer.tour_vehicle.ship_name?this.offer.tour_vehicle.ship_name:this.offer.tour_vehicle&&this.offer.tour_vehicle.ship&&this.offer.tour_vehicle.ship.title?this.offer.tour_vehicle.ship.title:trans("front.touroffers.noName")},ship_image:function(){if(this.offer.tour_vehicle&&this.offer.tour_vehicle.ship)return this.offer.tour_vehicle.ship.img}},props:{offer:{required:!0,type:Object},offerDisabled:{required:!0},acceptOffer:{required:!0,type:Function}},watch:{},methods:{showOffer:function(t){if($(t.target).hasClass("btn")||$(t.target).parent(".btn").length>=1)return!1;this.shown=!this.shown},getInCm:function(t){return(t/10).toFixed(2)}},components:{},created:function(){},mounted:function(){$('[data-toggle="tooltip"]').tooltip()}}},747:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"kurier-offer"},[n("div",{staticClass:"klink-offer-head",on:{click:t.showOffer}},[n("div",{staticClass:"klink-offer-head-item",attrs:{title:t.trans("front.touroffers.price"),"data-toggle":"tooltip"}},[n("img",{attrs:{src:"/images/euro.svg",alt:"euro"}}),t._v(" "),n("span",[t._v(t._s(t.offer.company_offer))])]),t._v(" "),n("div",{staticClass:"klink-offer-head-item right add-new-package sm-img"},[n("div",{staticClass:"show-hide",attrs:{title:t.trans("front.touroffers.showDetails"),"data-toggle":"tooltip"}},[n("img",{class:{down:!t.shown,smooth:!0},attrs:{src:"/images/key-console.svg",alt:t.shown?"hide":"show"}})]),t._v(" "),n("button",{staticClass:"btn btn-success btn-sm",attrs:{title:t.trans("front.touroffers.accept"),"data-toggle":"tooltip",disabled:t.offerDisabled},on:{click:function(e){t.acceptOffer(t.offer)}}},[n("img",{attrs:{src:"/images/tick.svg",alt:"check"}}),t._v(" "),n("span",[t._v(t._s(t.trans("front.touroffers.accept")))])])])]),t._v(" "),n("div",{class:{"klink-offer-body":!0,active:t.shown}},[n("transition",{attrs:{name:"slide","enter-active-class":"animated slideInDown","leave-active-class":"animated slideOutUp"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.shown,expression:"shown"}],staticClass:"vehicle-offer-show"},[n("div",{staticClass:"vehicle-name",attrs:{title:t.trans("front.touroffers.vehicle"),"data-toggle":"tooltip"}},[t._v(t._s(t.ship_name))]),t._v(" "),n("div",{staticClass:"vehicle-information"},[n("div",{staticClass:"shipping"},[n("img",{attrs:{title:t.ship_name,"data-toggle":"tooltip",src:"/images/shippings/"+t.ship_image,alt:t.ship_name}}),t._v(" "),n("div",{staticClass:"shipping-info"},[n("div",{staticClass:"shipping-info-piece",attrs:{title:t.trans("front.touroffers.model"),"data-toggle":"tooltip"}},[n("b",[t._v(t._s(t.trans("front.touroffers.model"))+" :")]),t._v("\n                "+t._s(t.offer.tour_vehicle.model)+"\n              ")]),t._v(" "),n("div",{staticClass:"shipping-info-piece",attrs:{title:t.trans("front.touroffers.weight"),"data-toggle":"tooltip"}},[n("b",[t._v(t._s(t.trans("front.touroffers.weight"))+" :")]),t._v("\n                "+t._s(t.vehicle_weight)+"\n              ")])]),t._v(" "),n("div",{staticClass:"shipping-info"},[n("div",{staticClass:"shipping-info-piece",attrs:{title:t.trans("front.touroffers.width")+" ( CM ) ","data-toggle":"tooltip"}},[n("b",[t._v(t._s(t.trans("front.touroffers.width"))+" :")]),t._v("\n                "+t._s(t.getInCm(t.offer.tour_vehicle.ship?t.offer.tour_vehicle.ship.width:0))+"\n              ")]),t._v(" "),n("div",{staticClass:"shipping-info-piece",attrs:{title:t.trans("front.touroffers.length")+" ( CM ) ","data-toggle":"tooltip"}},[n("b",[t._v(t._s(t.trans("front.touroffers.length"))+" :")]),t._v("\n                "+t._s(t.getInCm(t.offer.tour_vehicle.ship?t.offer.tour_vehicle.ship.length:0))+"\n              ")]),t._v(" "),n("div",{staticClass:"shipping-info-piece",attrs:{title:t.trans("front.touroffers.height")+" ( CM ) ","data-toggle":"tooltip"}},[n("b",[t._v(t._s(t.trans("front.touroffers.height"))+" :")]),t._v("\n                "+t._s(t.getInCm(t.offer.tour_vehicle.ship?t.offer.tour_vehicle.ship.height:0))+"\n              ")])])])])])])],1)])},staticRenderFns:[]}},748:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"stops-rows-wrapper offers"},[n("div",{staticClass:"stops-rows-header"},[t._v(t._s(t.trans("front.touroffers.title")))]),t._v(" "),n("transition-group",{staticClass:"stops-rows-container",attrs:{tag:"div",name:"zoom","enter-active-class":"animated zoomIn","leave-active-class":"animated zoomOut"}},t._l(t.tour.tour_offer,function(e){return n("klink-offer",{key:"offer"+e.id,attrs:{offerDisabled:t.offerDisabled,acceptOffer:t.acceptOffer,offer:e}})}),1)],1)},staticRenderFns:[]}},749:function(t,e,n){var i=n(25)(n(750),n(757),!1,null,null,null);t.exports=i.exports},750:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{tourEndDatee:""}},computed:{endDateInput:function(){var t=this;return{name:"tourEndDate",placeholder:this.trans("front.touroffers.endDate"),validate:"required",id:"tourEndDate",type:"timePicker",dateOnly:!0,newclasses:{"tour-date-1":!0},editable:{img:"/images/endDate.svg",saveData:function(e,n){if((e=window.moment(e,"l")).format("l")===t.tourEndDatee.format("l"))return n(),!1;e=e.format(),t.saveMillistones("tour_finish_date",e,function(e){t.tour.tour_dates=e.tour_dates,n()})},toBeShown:this.tourEndDate}}},tourEndDate:function(){if(!this.tour||!this.tour.tour_dates)return!1;var t=window.moment(this.tour.tour_dates.tour_finish_date,"YYYY-MM-DD");return this.tour.tour_dates.tour_finish_date&&!1!==t.isValid()?(this.tourEndDatee=t,t.format("DD MMM YYYY")):(this.tourEndDatee=window.moment(),this.trans("front.touroffers.unlimited"))},tourStartDate:function(){return this.tour&&this.tour.tour_dates?window.moment(this.tour.tour_dates.tour_start_date):window.moment()},tourStratTime:function(){return this.tour&&this.tour.tour_dates?window.moment(this.tour.tour_dates.tour_start_time,"HH:mm:ss").format("hh:mm A"):""}},props:{tour:{required:!0,type:Object}},watch:{},methods:{saveMillistones:function(t,e,n){var i={};i[t]=e;var r={url:"/api/tours/edit/"+this.$route.params.tourId+"/tour_details",data:i,validate:this.$validator,failedValidate:function(t){},successServer:function(t){n(t.body)},failServer:function(t){console.log(t)}};this.$vss.post(r)}},components:{"week-days-input":n(751),"start-time-edit":n(754)},created:function(){},mounted:function(){}}},751:function(t,e,n){var i=n(25)(n(752),n(753),!1,null,null,null);t.exports=i.exports},752:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{lastTourDates:[]}},computed:{activeDays:function(){var t=this;return this.days.filter(function(e,n){return t.hasADay(n)})},inActiveDays:function(){var t=this;return this.days.filter(function(e,n){return!1===t.hasADay(n)})},days:function(){var t=moment.weekdays(!0),e=moment.weekdaysMin(!0),n=t.map(function(t,n){return{dayName:t,shortCut:e[n]}});return n},changed:function(){return JSON.stringify(this.lastTourDates)!==this.tourDates},tourDates:function(){var t=["Mo","Di","Mi","Do","Fr","Sa","So"];if(!this.tour||!this.tour.tour_dates)return[];var e=JSON.parse(this.tour.tour_dates.days);return e=e.map(function(e){return t.indexOf(e)}),JSON.stringify(e)}},props:{tour:{required:!0,type:Object}},watch:{changed:function(t){var e=this;!0===t&&this.$nextTick(function(){e.saveTourDays()})},tourDates:function(t,e){this.lastTourDates=JSON.parse(t)},activeDays:function(){this.$nextTick(function(){$('[data-toggle="tooltip"]').tooltip()})},inActiveDays:function(){this.$nextTick(function(){$('[data-toggle="tooltip"]').tooltip()})}},methods:{hasADay:function(t){return-1!==this.lastTourDates.indexOf(t)},selectDay:function(t){var e=this.days.indexOf(t);this.hasADay(e)?this.lastTourDates.length>1?this.lastTourDates=this.lastTourDates.filter(function(t){return t!==e}):this.$snotify.warning(trans("front.bystop.dayserror"),trans("front.bystop.dayserrorHead")):this.lastTourDates.push(e)},saveTourDays:function(){var t=this;if(this.lastTourDates.length<1)return this.$snotify.warning(trans("front.bystop.dayserror"),trans("front.bystop.dayserrorHead")),!1;var e={url:"/api/tours/saveTourDays/"+this.$route.params.tourId,data:{days:this.lastTourDates},validate:this.$validator,failedValidate:function(t){},successServer:function(e){t.tour.tour_dates.days=e.body.days}};this.$vss.post(e)}},components:{},created:function(){},mounted:function(){}}},753:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"stops-rows-container"},[n("div",{staticClass:"week-days-show"},[n("div",{staticClass:"stops-rows-header",staticStyle:{"justify-content":"center","font-size":"18px"}},[t._v(t._s(t.trans("front.touroffers.weekDays")))]),t._v(" "),n("transition-group",{staticClass:"week-days-show-row",attrs:{tag:"div",name:"zoom","enter-active-class":"animated zoomIn","leave-active-class":"animated zoomOut"}},t._l(t.activeDays,function(e){return n("div",{key:"kurier-day-"+e.shortCut,class:{"week-day":!0,active:!0},attrs:{title:e.dayName,"data-toggle":"tooltip"},on:{click:function(n){t.selectDay(e)}}},[t._v(t._s(e.shortCut))])}),0),t._v(" "),n("transition-group",{staticClass:"week-days-show-row",attrs:{tag:"div",name:"zoom","enter-active-class":"animated zoomIn","leave-active-class":"animated zoomOut"}},t._l(t.inActiveDays,function(e){return n("div",{key:"kurier-day-"+e.shortCut,class:{"week-day":!0},attrs:{title:e.dayName,"data-toggle":"tooltip"},on:{click:function(n){t.selectDay(e)}}},[t._v(t._s(e.shortCut))])}),0)],1),t._v(" "),t._t("besideDaysShow")],2)},staticRenderFns:[]}},754:function(t,e,n){var i=n(25)(n(755),n(756),!1,null,null,null);t.exports=i.exports},755:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{tourStartTimee:"",tourEndTimee:""}},computed:{tourStratTime:function(){return this.tour&&this.tour.tour_dates?(this.tourStartTimee=window.moment(this.tour.tour_dates.tour_start_time,"HH:mm:ss"),window.moment(this.tour.tour_dates.tour_start_time,"HH:mm:ss").format("HH:mm")):""},tourEndTime:function(){return!(!this.tour||!this.tour.tour_dates)&&(this.tourEndTimee=window.moment(this.tour.tour_dates.tour_finish_time,"HH:mm:ss"),window.moment(this.tour.tour_dates.tour_finish_time,"HH:mm:ss").format("HH:mm"))},endTimeText:function(){return window.moment(this.tour.tour_dates.tour_finish_time,"HH:mm:ss").isBefore(window.moment(this.tour.tour_dates.tour_start_time,"HH:mm:ss").add(this.tour.tour_details.tour_total_time,"minutes"))?trans("front.touroffers.endTimeNexDay"):trans("front.buissness.tourEndTime")},endTimeProps:function(){var t=this;return{name:"tourEnd",placeholder:this.endTimeText,validate:"required",id:"tourEndTime",type:"timePicker",timeOnly:!0,newclasses:{"tour-date-1":!0},editable:{img:"/images/stopwatch.svg",after:"Uhr",saveData:function(e,n){t.saveMillistones("tour_finish_time",e,function(e){t.tour.tour_dates=e.tour_dates,n()})},toBeShown:this.tourEndTime}}},startTimeProps:function(){var t=this;return{name:"TourStart",placeholder:trans("front.buissness.tourStartTime"),validate:"required",id:"tourStartTime",type:"timePicker",minDate:window.moment((new Date).setHours(0,0,0,0)),timeOnly:!0,newclasses:{"tour-date-1":!0},editable:{img:"/images/stopwatch.svg",after:"Uhr",saveData:function(e,n){t.saveMillistones("tour_start_time",e,function(e){t.tour.tour_dates=e.tour_dates,n()})},toBeShown:this.tourStratTime}}}},props:{tour:{required:!0}},watch:{},methods:{saveMillistones:function(t,e,n){var i={};i[t]=e;var r={url:"/api/tours/edit/"+this.$route.params.tourId+"/tour_details",data:i,validate:this.$validator,failedValidate:function(t){},successServer:function(t){n(t.body)},failServer:function(t){console.log(t)}};this.$vss.post(r)}},components:{},created:function(){},mounted:function(){}}},756:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"start-end-time-wrapper"},[n("div",{staticClass:"start-time-div"},[n("div",{staticClass:"start-time-heading"},[t._v(t._s(t.trans("front.touroffers.startTime")))]),t._v(" "),n("div",{staticClass:"start-time-content"},[n("div",{staticClass:"start-time-img"},[n("img",{attrs:{src:"/images/stopwatch.svg",alt:t.trans("front.touroffers.startTime"),title:t.trans("front.touroffers.startTime"),"data-toggle":"tooltip"}})]),t._v(" "),n("div",{staticClass:"start-time-val"},[n("editable",t._b({directives:[{name:"show",rawName:"v-show",value:t.tourStratTime,expression:"tourStratTime"}],model:{value:t.tourStartTimee,callback:function(e){t.tourStartTimee=e},expression:"tourStartTimee"}},"editable",t.startTimeProps,!1))],1)])]),t._v(" "),n("div",{staticClass:"start-time-div"},[n("div",{staticClass:"start-time-heading"},[t._v(t._s(t.endTimeText))]),t._v(" "),n("div",{staticClass:"start-time-content"},[n("div",{staticClass:"start-time-img"},[n("img",{attrs:{src:"/images/stopwatch.svg",alt:t.endTimeText,title:t.endTimeText,"data-toggle":"tooltip"}})]),t._v(" "),n("div",{staticClass:"start-time-val"},[n("editable",t._b({directives:[{name:"show",rawName:"v-show",value:t.tourEndTime,expression:"tourEndTime"}],model:{value:t.tourEndTimee,callback:function(e){t.tourEndTimee=e},expression:"tourEndTimee"}},"editable",t.endTimeProps,!1))],1)])])])},staticRenderFns:[]}},757:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"stops-row-vertical"},[n("div",{staticClass:"stops-rows-wrapper"},[n("div",{staticClass:"stops-rows-header"},[n("div",{staticClass:"stops-row-header-half",attrs:{"data-toggle":"tooltip",title:t.trans("front.touroffers.startDate")}},[n("div",{staticClass:"svg-with-text"},[n("img",{attrs:{src:"/images/calendar-day.svg",alt:t.trans("front.touroffers.startDate")}}),t._v(" "),n("span",{staticClass:"svg-text"},[t._v(t._s(t.tourStartDate.date()))])]),t._v(" "),n("div",{staticClass:"month-date"},[t._v(t._s(t.tourStartDate.format("MMM YYYY")))])]),t._v(" "),n("div",{staticClass:"stops-row-header-half"},[n("editable",t._b({directives:[{name:"show",rawName:"v-show",value:t.tourEndDate,expression:"tourEndDate"}],staticStyle:{"font-size":"16px"},model:{value:t.tourEndDatee,callback:function(e){t.tourEndDatee=e},expression:"tourEndDatee"}},"editable",t.endDateInput,!1))],1)]),t._v(" "),n("week-days-input",{attrs:{tour:t.tour}},[t.tour&&t.tour.tour_dates?n("start-time-edit",{attrs:{slot:"besideDaysShow",tour:t.tour},slot:"besideDaysShow"}):t._e()],1)],1)])},staticRenderFns:[]}},758:function(t,e,n){var i=n(25)(n(759),n(768),!1,null,null,null);t.exports=i.exports},759:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(760),r=n.n(i);e.default={data:function(){return{currentShown:1,drag:!1}},computed:{dragOptions:function(){return{animation:200,group:"description",disabled:!1,ghostClass:"ghost",scroll:!0}}},props:{tour:{required:!0}},watch:{},methods:{dragEnd:function(t){console.log(t.newIndex,t.oldIndex,t),this.drag=!1}},components:{draggable:r.a,"kurier-stop":n(762)},created:function(){this.tour.stops=this.tour.stops.sort(function(t,e){return t.stop_index-e.stop_index})},mounted:function(){}}},760:function(t,e,n){"use strict";"function"==typeof Symbol&&Symbol.iterator;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}!function(){function e(t){function e(t){t.parentElement.removeChild(t)}function n(t,e,n){var i=0===n?t.children[0]:t.children[n-1].nextSibling;t.insertBefore(e,i)}function o(t,e){var n=this;this.$nextTick(function(){return n.$emit(t.toLowerCase(),e)})}var s=["Start","Add","Remove","Update","End"],a=["Choose","Sort","Filter","Clone"],l=["Move"].concat(s,a).map(function(t){return"on"+t}),u=null;return{name:"draggable",props:{options:Object,list:{type:Array,required:!1,default:null},value:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:function(t){return t}},element:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},data:function(){return{transitionMode:!1,noneFunctionalComponentMode:!1,init:!1}},render:function(t){var e=this.$slots.default;if(e&&1===e.length){var n=e[0];n.componentOptions&&"transition-group"===n.componentOptions.tag&&(this.transitionMode=!0)}var i=0,o=e,s=this.$slots,a=s.header,l=s.footer;a&&(i=a.length,o=o?[].concat(r(a),r(o)):[].concat(r(a))),l&&(o=o?[].concat(r(o),r(l)):[].concat(r(l))),this.headerOffset=i;var u=null,c=function(t,e){u=function(t,e,n){return void 0==n?t:((t=null==t?{}:t)[e]=n,t)}(u,t,e)};if(c("attrs",this.$attrs),this.componentData){var d=this.componentData,f=d.on,h=d.props;c("on",f),c("props",h)}return t(this.element,u,o)},mounted:function(){var e=this;if(this.noneFunctionalComponentMode=this.element.toLowerCase()!==this.$el.nodeName.toLowerCase(),this.noneFunctionalComponentMode&&this.transitionMode)throw new Error("Transition-group inside component is not supported. Please alter element value or remove transition-group. Current element value: "+this.element);var n={};s.forEach(function(t){n["on"+t]=function(t){var e=this;return function(n){null!==e.realList&&e["onDrag"+t](n),o.call(e,t,n)}}.call(e,t)}),a.forEach(function(t){n["on"+t]=o.bind(e,t)});var r=i({},this.options,n,{onMove:function(t,n){return e.onDragMove(t,n)}});!("draggable"in r)&&(r.draggable=">*"),this._sortable=new t(this.rootContainer,r),this.computeIndexes()},beforeDestroy:function(){void 0!==this._sortable&&this._sortable.destroy()},computed:{rootContainer:function(){return this.transitionMode?this.$el.children[0]:this.$el},isCloning:function(){return!!this.options&&!!this.options.group&&"clone"===this.options.group.pull},realList:function(){return this.list?this.list:this.value}},watch:{options:{handler:function(t){for(var e in t)-1==l.indexOf(e)&&this._sortable.option(e,t[e])},deep:!0},realList:function(){this.computeIndexes()}},methods:{getChildrenNodes:function(){if(this.init||(this.noneFunctionalComponentMode=this.noneFunctionalComponentMode&&1==this.$children.length,this.init=!0),this.noneFunctionalComponentMode)return this.$children[0].$slots.default;var t=this.$slots.default;return this.transitionMode?t[0].child.$slots.default:t},computeIndexes:function(){var t=this;this.$nextTick(function(){t.visibleIndexes=function(t,e,n){if(!t)return[];var i=t.map(function(t){return t.elm}),o=[].concat(r(e)).map(function(t){return i.indexOf(t)});return n?o.filter(function(t){return-1!==t}):o}(t.getChildrenNodes(),t.rootContainer.children,t.transitionMode)})},getUnderlyingVm:function(t){var e=function(t,e){return t.map(function(t){return t.elm}).indexOf(e)}(this.getChildrenNodes()||[],t);return-1===e?null:{index:e,element:this.realList[e]}},getUnderlyingPotencialDraggableComponent:function(t){var e=t.__vue__;return e&&e.$options&&"transition-group"===e.$options._componentTag?e.$parent:e},emitChanges:function(t){var e=this;this.$nextTick(function(){e.$emit("change",t)})},alterList:function(t){if(this.list)t(this.list);else{var e=[].concat(r(this.value));t(e),this.$emit("input",e)}},spliceList:function(){var t=arguments,e=function(e){return e.splice.apply(e,t)};this.alterList(e)},updatePosition:function(t,e){var n=function(n){return n.splice(e,0,n.splice(t,1)[0])};this.alterList(n)},getRelatedContextFromMoveEvent:function(t){var e=t.to,n=t.related,r=this.getUnderlyingPotencialDraggableComponent(e);if(!r)return{component:r};var o=r.realList,s={list:o,component:r};if(e!==n&&o&&r.getUnderlyingVm){var a=r.getUnderlyingVm(n);if(a)return i(a,s)}return s},getVmIndex:function(t){var e=this.visibleIndexes,n=e.length;return t>n-1?n:e[t]},getComponent:function(){return this.$slots.default[0].componentInstance},resetTransitionData:function(t){if(this.noTransitionOnDrag&&this.transitionMode){this.getChildrenNodes()[t].data=null;var e=this.getComponent();e.children=[],e.kept=void 0}},onDragStart:function(t){this.context=this.getUnderlyingVm(t.item),t.item._underlying_vm_=this.clone(this.context.element),u=t.item},onDragAdd:function(t){this.updateEvenemt(t);var n=t.item._underlying_vm_;if(void 0!==n){e(t.item);var i=this.getVmIndex(t.newIndex);this.spliceList(i,0,n),this.computeIndexes();var r={element:n,newIndex:i};this.emitChanges({added:r})}},onDragRemove:function(t){if(this.updateEvenemt(t),n(this.rootContainer,t.item,t.oldIndex),this.isCloning)e(t.clone);else{var i=this.context.index;this.spliceList(i,1);var r={element:this.context.element,oldIndex:i};this.resetTransitionData(i),this.emitChanges({removed:r})}},onDragUpdate:function(t){this.updateEvenemt(t),e(t.item),n(t.from,t.item,t.oldIndex);var i=this.context.index,r=this.getVmIndex(t.newIndex);this.updatePosition(i,r);var o={element:this.context.element,oldIndex:i,newIndex:r};this.emitChanges({moved:o})},updateEvenemt:function(t){this.updateProperty(t,"newIndex"),this.updateProperty(t,"oldIndex")},updateProperty:function(t,e){t.hasOwnProperty(e)&&(t[e]+=this.headerOffset)},computeFutureIndex:function(t,e){if(!t.element)return 0;var n=[].concat(r(e.to.children)).filter(function(t){return"none"!==t.style.display}),i=n.indexOf(e.related),o=t.component.getVmIndex(i);return-1!=n.indexOf(u)||!e.willInsertAfter?o:o+1},onDragMove:function(t,e){var n=this.move;if(!n||!this.realList)return!0;var r=this.getRelatedContextFromMoveEvent(t),o=this.context,s=this.computeFutureIndex(r,t);return i(o,{futureIndex:s}),i(t,{relatedContext:r,draggedContext:o}),n(t,e)},onDragEnd:function(t){this.computeIndexes(),u=null}}}}Array.from||(Array.from=function(t){return[].slice.call(t)});var o=n(761);t.exports=e(o)}()},761:function(t,e,n){var i,r;!function(o){"use strict";void 0===(r="function"==typeof(i=o)?i.call(e,n,e,t):i)||(t.exports=r)}(function(){"use strict";if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var t,e,n,i,r,o,s,a,l,u,c,d,f,h,p,m,v,g,_,w,y,b,x,D,C,k=[],T=!1,O=!1,S=!1,M=[],$=!1,I=!1,E=/\s+/g,A="Sortable"+(new Date).getTime(),P=window,N=P.document,q=P.parseInt,F=P.setTimeout,j=P.jQuery||P.Zepto,R=P.Polymer,B={capture:!1,passive:!1},Y=!!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\.|msie|iemobile)/i),H=!!navigator.userAgent.match(/Edge/i),z=H||Y?"cssFloat":"float",V="draggable"in N.createElement("div"),L=function(){if(Y)return!1;var t=N.createElement("x");return t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}(),X=!1,U=!1,W=Math.abs,G=Math.min,J=[],K=function(t,e){var n=mt(t),i=q(n.width),r=xt(t,0,e),o=xt(t,1,e),s=r&&mt(r),a=o&&mt(o),l=s&&q(s.marginLeft)+q(s.marginRight)+Et(r).width,u=a&&q(a.marginLeft)+q(a.marginRight)+Et(o).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if(r&&"none"!==s.float){var c="left"===s.float?"left":"right";return!o||"both"!==a.clear&&a.clear!==c?"horizontal":"vertical"}return r&&("block"===s.display||"flex"===s.display||"table"===s.display||"grid"===s.display||l>=i&&"none"===n[z]||o&&"none"===n[z]&&l+u>i)?"vertical":"horizontal"},Q=function(t,e){if(!t||!t.getBoundingClientRect)return P;var n=t,i=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var r=mt(n);if(n.clientWidth<n.scrollWidth&&("auto"==r.overflowX||"scroll"==r.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==r.overflowY||"scroll"==r.overflowY)){if(!n||!n.getBoundingClientRect||n===N.body)return P;if(i||e)return n;i=!0}}}while(n=n.parentNode);return P},Z=Ot(function(t,e,n,i){if(e.scroll){var r=n?n[A]:window,o=e.scrollSensitivity,s=e.scrollSpeed,c=t.clientX,d=t.clientY,f=(window.innerWidth,window.innerHeight,!1);l!==n&&(tt(),a=e.scroll,u=e.scrollFn,!0===a&&(a=Q(n,!0),l=a));var h=0,p=a;do{var m,v,g,w,y,b,x,D,C,O=p,S=Et(O),M=S.top,$=S.bottom,I=S.left,E=S.right,q=S.width,F=S.height;if(O!==P?(m=O.scrollWidth,v=O.scrollHeight,g=mt(O),b=q<m&&("auto"===g.overflowX||"scroll"===g.overflowX),x=F<v&&("auto"===g.overflowY||"scroll"===g.overflowY),D=O.scrollLeft,C=O.scrollTop):(m=N.documentElement.scrollWidth,v=N.documentElement.scrollHeight,g=mt(N.documentElement),b=q<m&&("auto"===g.overflowX||"scroll"===g.overflowX||"visible"===g.overflowX),x=F<v&&("auto"===g.overflowY||"scroll"===g.overflowY||"visible"===g.overflowY),D=N.documentElement.scrollLeft,C=N.documentElement.scrollTop),w=b&&(W(E-c)<=o&&D+q<m)-(W(I-c)<=o&&!!D),y=x&&(W($-d)<=o&&C+F<v)-(W(M-d)<=o&&!!C),!k[h])for(var j=0;j<=h;j++)k[j]||(k[j]={});k[h].vx==w&&k[h].vy==y&&k[h].el===O||(k[h].el=O,k[h].vx=w,k[h].vy=y,clearInterval(k[h].pid),!O||0==w&&0==y||(f=!0,k[h].pid=setInterval(function(){i&&0===this.layer&&ut.active._emulateDragOver(!0);var e=k[this.layer].vy?k[this.layer].vy*s:0,n=k[this.layer].vx?k[this.layer].vx*s:0;"function"==typeof u&&"continue"!==u.call(r,n,e,t,_,k[this.layer].el)||(k[this.layer].el===P?P.scrollTo(P.pageXOffset+n,P.pageYOffset+e):(k[this.layer].el.scrollTop+=e,k[this.layer].el.scrollLeft+=n))}.bind({layer:h}),24))),h++}while(e.bubbleScroll&&p!==P&&(p=Q(p,!1)));T=f}},30),tt=function(){k.forEach(function(t){clearInterval(t.pid)}),k=[]},et=function(t){function e(t,n){return function(i,r,o,s){var a=i.options.group.name&&r.options.group.name&&i.options.group.name===r.options.group.name;if(null==t&&(n||a))return!0;if(null==t||!1===t)return!1;if(n&&"clone"===t)return t;if("function"==typeof t)return e(t(i,r,o,s),n)(i,r,o,s);var l=(n?i:r).options.group.name;return!0===t||"string"==typeof t&&t===l||t.join&&t.indexOf(l)>-1}}var n={},i=t.group;i&&"object"==typeof i||(i={name:i}),n.name=i.name,n.checkPull=e(i.pull,!0),n.checkPut=e(i.put),n.revertClone=i.revertClone,t.group=n},nt=function(e){t&&t.parentNode&&t.parentNode[A]&&t.parentNode[A]._computeIsAligned(e)},it=function(t,e){for(var n=e;!n[A];)n=n.parentNode;return t===n},rt=function(t,e,n){for(var i=t.parentNode;i&&!i[A];)i=i.parentNode;i&&i[A][n](St(e,{artificialBubble:!0}))},ot=function(){!L&&n&&mt(n,"display","none")},st=function(){!L&&n&&mt(n,"display","")};N.addEventListener("click",function(t){if(S)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),S=!1,!1},!0);var at,lt=function(e){if(e=e.touches?e.touches[0]:e,t){var n=function(t,e){for(var n=0;n<M.length;n++)if(!M[n].children.length){var i=Et(M[n]),r=M[n][A].options.emptyInsertThreshold,o=t>=i.left-r&&t<=i.right+r,s=e>=i.top-r&&e<=i.bottom+r;if(o&&s)return M[n]}}(e.clientX,e.clientY);n&&n[A]._onDragOver({clientX:e.clientX,clientY:e.clientY,target:n,rootEl:n})}};function ut(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be HTMLElement, not "+{}.toString.call(t);this.el=t,this.options=e=St({},e),t[A]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0,draggable:/[uo]l/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return K(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,touchStartThreshold:q(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==ut.supportPointer&&("PointerEvent"in window||window.navigator&&"msPointerEnabled"in window.navigator),emptyInsertThreshold:5};for(var i in n)!(i in e)&&(e[i]=n[i]);for(var r in et(e),this)"_"===r.charAt(0)&&"function"==typeof this[r]&&(this[r]=this[r].bind(this));this.nativeDraggable=!e.forceFallback&&V,e.supportPointer?ft(t,"pointerdown",this._onTapStart):(ft(t,"mousedown",this._onTapStart),ft(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(ft(t,"dragover",this),ft(t,"dragenter",this)),M.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[])}function ct(t,e,n,i){if(t){n=n||N;do{if(null!=e&&(">"===e[0]&&t.parentNode===n&&Tt(t,e.substring(1))||Tt(t,e))||i&&t===n)return t;if(t===n)break}while(t=dt(t))}return null}function dt(t){return t.host&&t!==N&&t.host.nodeType?t.host:t.parentNode}function ft(t,e,n){t.addEventListener(e,n,B)}function ht(t,e,n){t.removeEventListener(e,n,B)}function pt(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var i=(" "+t.className+" ").replace(E," ").replace(" "+e+" "," ");t.className=(i+(n?" "+e:"")).replace(E," ")}}function mt(t,e,n){var i=t&&t.style;if(i){if(void 0===n)return N.defaultView&&N.defaultView.getComputedStyle?n=N.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];e in i||-1!==e.indexOf("webkit")||(e="-webkit-"+e),i[e]=n+("string"==typeof n?"":"px")}}function vt(t){var e="";do{var n=mt(t,"transform");n&&"none"!==n&&(e=n+" "+e)}while(t=t.parentNode);return window.DOMMatrix?new DOMMatrix(e):window.WebKitCSSMatrix?new WebKitCSSMatrix(e):window.CSSMatrix?new CSSMatrix(e):void 0}function gt(t,e,n){if(t){var i=t.getElementsByTagName(e),r=0,o=i.length;if(n)for(;r<o;r++)n(i[r],r);return i}return[]}function _t(t,e,n,r,o,s,a,l,u){var c,d=(t=t||e[A]).options,f="on"+n.charAt(0).toUpperCase()+n.substr(1);!window.CustomEvent||Y||H?(c=N.createEvent("Event")).initEvent(n,!0,!0):c=new CustomEvent(n,{bubbles:!0,cancelable:!0}),c.to=o||e,c.from=s||e,c.item=r||e,c.clone=i,c.oldIndex=a,c.newIndex=l,c.originalEvent=u,e&&e.dispatchEvent(c),d[f]&&d[f].call(t,c)}function wt(t,e,n,i,r,o,s,a){var l,u,c=t[A],d=c.options.onMove;return!window.CustomEvent||Y||H?(l=N.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=e,l.from=t,l.dragged=n,l.draggedRect=i,l.related=r||e,l.relatedRect=o||Et(e),l.willInsertAfter=a,l.originalEvent=s,t.dispatchEvent(l),d&&(u=d.call(c,l,s)),u}function yt(t){t.draggable=!1}function bt(){X=!1}function xt(e,i,r){for(var o=0,s=0,a=e.children;s<a.length;){if("none"!==a[s].style.display&&a[s]!==n&&a[s]!==t&&ct(a[s],r.draggable,e,!1)){if(o===i)return a[s];o++}s++}return null}function Dt(t){for(var e=t.lastElementChild;(e===n||"none"===e.style.display)&&(e=e.previousElementSibling););return e||null}function Ct(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,i=0;n--;)i+=e.charCodeAt(n);return i.toString(36)}function kt(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t&&(t=t.previousElementSibling);)"TEMPLATE"!==t.nodeName.toUpperCase()&&t!==i&&n++;return n}function Tt(t,e){if(t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(t){return!1}return!1}function Ot(t,e){return function(){if(!at){var n=arguments,i=this;at=F(function(){1===n.length?t.call(i,n[0]):t.apply(i,n),at=void 0},e)}}}function St(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Mt(t){return R&&R.dom?R.dom(t).cloneNode(!0):j?j(t).clone(!0)[0]:t.cloneNode(!0)}function $t(t){return F(t,0)}function It(t){return clearTimeout(t)}function Et(t,e,n){if(t.getBoundingClientRect||t===P){var i,r,o,s,a,l,u;if(t!==P?(r=(i=t.getBoundingClientRect()).top,o=i.left,s=i.bottom,a=i.right,l=i.height,u=i.width):(r=0,o=0,s=window.innerHeight,a=window.innerWidth,l=window.innerHeight,u=window.innerWidth),n&&t!==P){if(e=e||t.parentNode,!Y)do{if(e&&e.getBoundingClientRect&&"none"!==mt(e,"transform")){var c=e.getBoundingClientRect();r-=c.top+q(mt(e,"border-top-width")),o-=c.left+q(mt(e,"border-left-width")),s=r+i.height,a=o+i.width;break}}while(e=e.parentNode);var d=vt(t),f=d&&d.a,h=d&&d.d;d&&(s=(r/=h)+(l/=h),a=(o/=f)+(u/=f))}return{top:r,left:o,bottom:s,right:a,width:u,height:l}}}return ft(N,"dragover",lt),ft(N,"mousemove",lt),ft(N,"touchmove",lt),ut.prototype={constructor:ut,_computeIsAligned:function(e){var i;if(n&&!L?(ot(),i=N.elementFromPoint(e.clientX,e.clientY),st()):i=e.target,i=ct(i,this.options.draggable,this.el,!1),!U&&t&&t.parentNode===this.el){for(var r,o,s,a,l,u,c,d,f=this.el.children,h=0;h<f.length;h++)ct(f[h],this.options.draggable,this.el,!1)&&f[h]!==i&&(f[h].sortableMouseAligned=(r=e.clientX,o=e.clientY,s=f[h],a=this._getDirection(e,null),this.options,void 0,void 0,void 0,void 0,l=Et(s),u="vertical"===a?l.left:l.top,c="vertical"===a?l.right:l.bottom,u<(d="vertical"===a?r:o)&&d<c));ct(i,this.options.draggable,this.el,!0)||(y=null),U=!0,F(function(){U=!1},30)}},_getDirection:function(e,n){return"function"==typeof this.options.direction?this.options.direction.call(this,e,n,t):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n,i=this,r=this.el,o=this.options,a=o.preventOnFilter,l=e.type,u=e.touches&&e.touches[0],c=(u||e).target,d=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||c,f=o.filter;if(function(t){J.length=0;var e=t.getElementsByTagName("input"),n=e.length;for(;n--;){var i=e[n];i.checked&&J.push(i)}}(r),(!Y||e.artificialBubble||it(r,c))&&!t&&!(/mousedown|pointerdown/.test(l)&&0!==e.button||o.disabled||d.isContentEditable))if(c=ct(c,o.draggable,r,!1)){if(s!==c){if(n=kt(c,o.draggable),"function"==typeof f){if(f.call(this,e,c,this))return _t(i,d,"filter",c,r,r,n),void(a&&e.cancelable&&e.preventDefault())}else if(f&&(f=f.split(",").some(function(t){if(t=ct(d,t.trim(),r,!1))return _t(i,t,"filter",c,r,r,n),!0})))return void(a&&e.cancelable&&e.preventDefault());o.handle&&!ct(d,o.handle,r,!1)||this._prepareDragStart(e,u,c,n)}}else Y&&rt(r,e,"_onTapStart")}},_handleAutoScroll:function(e,n){if(t&&this.options.scroll){var i=e.clientX,r=e.clientY,o=N.elementFromPoint(i,r),s=this;if(n||H||Y){Z(e,s.options,o,n);var a=Q(o,!0);!T||p&&i===m&&r===v||(p&&clearInterval(p),p=setInterval(function(){if(t){var o=Q(N.elementFromPoint(i,r),!0);o!==a&&(a=o,tt(),Z(e,s.options,a,n))}},10),m=i,v=r)}else{if(!s.options.bubbleScroll||Q(o,!0)===window)return void tt();Z(e,s.options,Q(o,!1),!1)}}},_prepareDragStart:function(n,i,a,l){var u,d=this,h=d.el,p=d.options,m=h.ownerDocument;a&&!t&&a.parentNode===h&&(r=h,e=(t=a).parentNode,o=t.nextSibling,s=a,f=p.group,c=l,g={target:t,clientX:(i||n).clientX,clientY:(i||n).clientY},this._lastX=(i||n).clientX,this._lastY=(i||n).clientY,t.style["will-change"]="all",t.style.transition="",t.style.transform="",u=function(){d._disableDelayedDrag(),t.draggable=d.nativeDraggable,d._triggerDragStart(n,i),_t(d,r,"choose",t,r,r,c),pt(t,p.chosenClass,!0)},p.ignore.split(",").forEach(function(e){gt(t,e.trim(),yt)}),p.supportPointer?ft(m,"pointerup",d._onDrop):(ft(m,"mouseup",d._onDrop),ft(m,"touchend",d._onDrop),ft(m,"touchcancel",d._onDrop)),p.delay?(ft(m,"mouseup",d._disableDelayedDrag),ft(m,"touchend",d._disableDelayedDrag),ft(m,"touchcancel",d._disableDelayedDrag),ft(m,"mousemove",d._delayedDragTouchMoveHandler),ft(m,"touchmove",d._delayedDragTouchMoveHandler),p.supportPointer&&ft(m,"pointermove",d._delayedDragTouchMoveHandler),d._dragStartTimer=F(u,p.delay)):u())},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;G(W(e.clientX-this._lastX),W(e.clientY-this._lastY))>=this.options.touchStartThreshold&&this._disableDelayedDrag()},_disableDelayedDrag:function(){var t=this.el.ownerDocument;clearTimeout(this._dragStartTimer),ht(t,"mouseup",this._disableDelayedDrag),ht(t,"touchend",this._disableDelayedDrag),ht(t,"touchcancel",this._disableDelayedDrag),ht(t,"mousemove",this._delayedDragTouchMoveHandler),ht(t,"touchmove",this._delayedDragTouchMoveHandler),ht(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||("touch"==e.pointerType?e:null),!this.nativeDraggable||n?this.options.supportPointer?ft(N,"pointermove",this._onTouchMove):ft(N,n?"touchmove":"mousemove",this._onTouchMove):(ft(t,"dragend",this),ft(r,"dragstart",this._onDragStart));try{N.selection?$t(function(){N.selection.empty()}):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(e){if(O=!1,r&&t){this.nativeDraggable&&(ft(N,"dragover",this._handleAutoScroll),ft(N,"dragover",nt));var n=this.options;!e&&pt(t,n.dragClass,!1),pt(t,n.ghostClass,!0),mt(t,"transform",""),ut.active=this,e&&this._appendGhost(),_t(this,r,"start",t,r,r,c)}else this._nulling()},_emulateDragOver:function(e){if(_){if(this._lastX===_.clientX&&this._lastY===_.clientY&&!e)return;this._lastX=_.clientX,this._lastY=_.clientY,ot();for(var n=N.elementFromPoint(_.clientX,_.clientY),i=n;n&&n.shadowRoot;)i=n=n.shadowRoot.elementFromPoint(_.clientX,_.clientY);if(i)do{if(i[A])if(i[A]._onDragOver({clientX:_.clientX,clientY:_.clientY,target:n,rootEl:i})&&!this.options.dragoverBubble)break;n=i}while(i=i.parentNode);t.parentNode[A]._computeIsAligned(_),st()}},_onTouchMove:function(t){if(g){var e=this.options,i=e.fallbackTolerance,r=e.fallbackOffset,o=t.touches?t.touches[0]:t,s=n&&vt(n),a=n&&s&&s.a,l=n&&s&&s.d,u=(o.clientX-g.clientX+r.x)/(a||1),c=(o.clientY-g.clientY+r.y)/(l||1),d=t.touches?"translate3d("+u+"px,"+c+"px,0)":"translate("+u+"px,"+c+"px)";if(!ut.active&&!O){if(i&&G(W(o.clientX-this._lastX),W(o.clientY-this._lastY))<i)return;this._onDragStart(t,!0)}this._handleAutoScroll(o,!0),w=!0,_=o,mt(n,"webkitTransform",d),mt(n,"mozTransform",d),mt(n,"msTransform",d),mt(n,"transform",d),t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!n){var e=Et(t,this.options.fallbackOnBody?N.body:r,!0),i=(mt(t),this.options);pt(n=t.cloneNode(!0),i.ghostClass,!1),pt(n,i.fallbackClass,!0),pt(n,i.dragClass,!0),mt(n,"box-sizing","border-box"),mt(n,"margin",0),mt(n,"top",e.top),mt(n,"left",e.left),mt(n,"width",e.width),mt(n,"height",e.height),mt(n,"opacity","0.8"),mt(n,"position","fixed"),mt(n,"zIndex","100000"),mt(n,"pointerEvents","none"),i.fallbackOnBody&&N.body.appendChild(n)||r.appendChild(n)}},_onDragStart:function(e,n){var o=this,s=e.dataTransfer,a=o.options;(i=Mt(t)).draggable=!1,i.style["will-change"]="",this._hideClone(),pt(i,o.options.chosenClass,!1),o._cloneId=$t(function(){o.options.removeCloneOnHide||r.insertBefore(i,t),_t(o,r,"clone",t)}),!n&&pt(t,a.dragClass,!0),n?(S=!0,o._loopId=setInterval(o._emulateDragOver,50)):(ht(N,"mouseup",o._onDrop),ht(N,"touchend",o._onDrop),ht(N,"touchcancel",o._onDrop),s&&(s.effectAllowed="move",a.setData&&a.setData.call(o,s,t)),ft(N,"drop",o),mt(t,"transform","translateZ(0)")),O=!0,o._dragStartId=$t(o._dragStarted.bind(o,n)),ft(N,"selectstart",o)},_onDragOver:function(i){var s,a,l,u=this.el,d=i.target,p=this.options,m=p.group,v=ut.active,g=f===m,_=p.sort,k=this;if(!X&&(!Y||i.rootEl||i.artificialBubble||it(u,d))){if(void 0!==i.preventDefault&&i.cancelable&&i.preventDefault(),w=!0,d=ct(d,p.draggable,u,!0),ct(i.target,null,t,!0)||d.animated)return V();if(d!==t&&(S=!1),v&&!p.disabled&&(g?_||(l=!r.contains(t)):h===this||(this.lastPutMode=f.checkPull(this,v,t,i))&&m.checkPut(this,v,t,i))){var O=this._getDirection(i,d);if(s=Et(t),l)return this._hideClone(),e=r,o?r.insertBefore(t,o):r.appendChild(t),V();if(0===u.children.length||u.children[0]===n||function(t,e,n){var i=Et(Dt(n)),r="vertical"===e?t.clientY:t.clientX,o="vertical"===e?t.clientX:t.clientY,s="vertical"===e?i.bottom:i.right,a="vertical"===e?i.left:i.top,l="vertical"===e?i.right:i.bottom;return"vertical"===e?o>l+10||o<=l&&r>s&&o>=a:r>s&&o>a||r<=s&&o>l+10}(i,O,u)&&!t.animated){if(0!==u.children.length&&u.children[0]!==n&&u===i.target&&(d=Dt(u)),d&&(a=Et(d)),g?v._hideClone():v._showClone(this),!1!==wt(r,u,t,s,d,a,i,!!d))return u.appendChild(t),e=u,C=null,L(),this._animate(s,t),d&&this._animate(a,d),V()}else if(d&&d!==t&&d.parentNode===u){var M,E=0,q=d.sortableMouseAligned,j=t.parentNode!==u,R=function(t,e){var n=Q(n,!0),i=Et(t)[e];for(;n;){var r=Et(n)[e];if(!("top"===e||"left"===e?i>=r:i<=r))return!0;if(n===P)break;n=Q(n,!1)}return!1}(d,"vertical"===O?"top":"left");if(y!==d&&(x=null,M=Et(d)["vertical"===O?"top":"left"],$=!1),function(e,n,i){var r=e===t&&C||Et(e),o=n===t&&C||Et(n),s="vertical"===i?r.left:r.top,a="vertical"===i?r.right:r.bottom,l="vertical"===i?r.width:r.height,u="vertical"===i?o.left:o.top,c="vertical"===i?o.right:o.bottom,d="vertical"===i?o.width:o.height;return s===u||a===c||s+l/2===u+d/2}(t,d,O)&&q||j||R||p.invertSwap||"insert"===x||"swap"===x?("swap"!==x&&(I=p.invertSwap||j||T||R),E=function(e,n,i,r,o,s,a){var l=Et(n),u="vertical"===i?e.clientY:e.clientX,c="vertical"===i?l.height:l.width,d="vertical"===i?l.top:l.left,f="vertical"===i?l.bottom:l.right,h=Et(t),p=!1;if(!s)if(a&&D<c*r)if(!$&&(1===b?u>d+c*o/2:u<f-c*o/2)&&($=!0),$)p=!0;else{"vertical"===i?h.top:h.left,"vertical"===i?h.bottom:h.right;if(1===b?u<d+D:u>f-D)return-1*b}else if(u>d+c*(1-r)/2&&u<f-c*(1-r)/2)return u>d+c/2?-1:1;if((p=p||s)&&(u<d+c*o/2||u>f-c*o/2))return u>d+c/2?1:-1;return 0}(i,d,O,p.swapThreshold,null==p.invertedSwapThreshold?p.swapThreshold:p.invertedSwapThreshold,I,y===d),x="swap"):(E=function(e,n){var i=kt(t,n.draggable),r=kt(e,n.draggable);return i<r?1:-1}(d,p),x="insert"),0===E)return V();C=null,y=d,b=E,a=Et(d);var B=d.nextElementSibling,H=!1,z=wt(r,u,t,s,d,a,i,H=1===E);if(!1!==z)return 1!==z&&-1!==z||(H=1===z),X=!0,F(bt,30),g?v._hideClone():v._showClone(this),H&&!B?u.appendChild(t):d.parentNode.insertBefore(t,H?B:d),e=t.parentNode,void 0===M||I||(D=W(M-Et(d)["vertical"===O?"top":"left"])),L(),!j&&this._animate(a,d),this._animate(s,t),V()}if(u.contains(t))return V()}return Y&&!i.rootEl&&rt(u,i,"_onDragOver"),!1}function V(){return v&&(pt(t,h?h.options.ghostClass:v.options.ghostClass,!1),pt(t,p.ghostClass,!0)),h!==k&&k!==ut.active?h=k:k===ut.active&&(h=null),(d===t&&!t.animated||d===u&&!d.animated)&&(y=null),p.dragoverBubble||i.rootEl||d===N||(k._handleAutoScroll(i),t.parentNode[A]._computeIsAligned(i)),!p.dragoverBubble&&i.stopPropagation&&i.stopPropagation(),!0}function L(){_t(k,r,"change",d,u,r,c,kt(t,p.draggable),i)}},_animate:function(e,n){var i=this.options.animation;if(i){var r=Et(n);if(n===t&&(C=r),1===e.nodeType&&(e=Et(e)),e.left+e.width/2!==r.left+r.width/2||e.top+e.height/2!==r.top+r.height/2){var o=vt(this.el),s=o&&o.a,a=o&&o.d;mt(n,"transition","none"),mt(n,"transform","translate3d("+(e.left-r.left)/(s||1)+"px,"+(e.top-r.top)/(a||1)+"px,0)"),n.offsetWidth,mt(n,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),mt(n,"transform","translate3d(0,0,0)")}"number"==typeof n.animated&&clearTimeout(n.animated),n.animated=F(function(){mt(n,"transition",""),mt(n,"transform",""),n.animated=!1},i)}},_offUpEvents:function(){var t=this.el.ownerDocument;ht(N,"touchmove",this._onTouchMove),ht(N,"pointermove",this._onTouchMove),ht(t,"mouseup",this._onDrop),ht(t,"touchend",this._onDrop),ht(t,"pointerup",this._onDrop),ht(t,"touchcancel",this._onDrop),ht(N,"selectstart",this)},_onDrop:function(s){var a=this.el,l=this.options;O=!1,T=!1,I=!1,$=!1,clearInterval(this._loopId),clearInterval(p),tt(),clearTimeout(at),at=void 0,clearTimeout(this._dragStartTimer),It(this._cloneId),It(this._dragStartId),ht(N,"mousemove",this._onTouchMove),this.nativeDraggable&&(ht(N,"drop",this),ht(a,"dragstart",this._onDragStart),ht(N,"dragover",this._handleAutoScroll),ht(N,"dragover",nt)),this._offUpEvents(),s&&(w&&(s.cancelable&&s.preventDefault(),!l.dropBubble&&s.stopPropagation()),n&&n.parentNode&&n.parentNode.removeChild(n),(r===e||h&&"clone"!==h.lastPutMode)&&i&&i.parentNode&&i.parentNode.removeChild(i),t&&(this.nativeDraggable&&ht(t,"dragend",this),yt(t),t.style["will-change"]="",pt(t,h?h.options.ghostClass:this.options.ghostClass,!1),pt(t,this.options.chosenClass,!1),_t(this,r,"unchoose",t,e,r,c,null,s),r!==e?((d=kt(t,l.draggable))>=0&&(_t(null,e,"add",t,e,r,c,d,s),_t(this,r,"remove",t,e,r,c,d,s),_t(null,e,"sort",t,e,r,c,d,s),_t(this,r,"sort",t,e,r,c,d,s)),h&&h.save()):t.nextSibling!==o&&(d=kt(t,l.draggable))>=0&&(_t(this,r,"update",t,e,r,c,d,s),_t(this,r,"sort",t,e,r,c,d,s)),ut.active&&(null!=d&&-1!==d||(d=c),_t(this,r,"end",t,e,r,c,d,s),this.save()))),this._nulling()},_nulling:function(){r=t=e=n=o=i=s=a=l=k.length=p=m=v=g=_=w=d=c=y=b=C=h=f=ut.active=null,J.forEach(function(t){t.checked=!0}),J.length=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":t&&(this._onDragOver(e),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move");t.cancelable&&t.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var t,e=[],n=this.el.children,i=0,r=n.length,o=this.options;i<r;i++)ct(t=n[i],o.draggable,this.el,!1)&&e.push(t.getAttribute(o.dataIdAttr)||Ct(t));return e},sort:function(t){var e={},n=this.el;this.toArray().forEach(function(t,i){var r=n.children[i];ct(r,this.options.draggable,n,!1)&&(e[t]=r)},this),t.forEach(function(t){e[t]&&(n.removeChild(e[t]),n.appendChild(e[t]))})},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return ct(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var n=this.options;if(void 0===e)return n[t];n[t]=e,"group"===t&&et(n)},destroy:function(){var t=this.el;t[A]=null,ht(t,"mousedown",this._onTapStart),ht(t,"touchstart",this._onTapStart),ht(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(ht(t,"dragover",this),ht(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),M.splice(M.indexOf(this.el),1),this.el=t=null},_hideClone:function(){i.cloneHidden||(mt(i,"display","none"),i.cloneHidden=!0,i.parentNode&&this.options.removeCloneOnHide&&i.parentNode.removeChild(i))},_showClone:function(e){"clone"===e.lastPutMode?i.cloneHidden&&(r.contains(t)&&!this.options.group.revertClone?r.insertBefore(i,t):o?r.insertBefore(i,o):r.appendChild(i),this.options.group.revertClone&&this._animate(t,i),mt(i,"display",""),i.cloneHidden=!1):this._hideClone()}},ft(N,"touchmove",function(t){(ut.active||O)&&t.cancelable&&t.preventDefault()}),ut.utils={on:ft,off:ht,css:mt,find:gt,is:function(t,e){return!!ct(t,e,t,!1)},extend:St,throttle:Ot,closest:ct,toggleClass:pt,clone:Mt,index:kt,nextTick:$t,cancelNextTick:It,detectDirection:K,getChild:xt},ut.create=function(t,e){return new ut(t,e)},ut.version="1.8.3",ut})},762:function(t,e,n){var i=n(25)(n(763),n(767),!1,null,null,null);t.exports=i.exports},763:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{ahmed:0}},computed:{tourStopNameProps:function(){var t=this;return{name:"stop"+trans("front.buissness.stopName")+this.stop.id,placeholder:trans("front.buissness.stopName"),validate:"required",id:"stopName"+this.stop.id,editable:{img:"",after:"",saveData:function(e,n){t.saveMillistones("stop_name",e,function(e){t.tour.stops=e.stops,n()})}}}},stopProps:function(){var t=this;return{name:trans("front.buissness.StopTime")+this.stop.id,placeholder:trans("front.buissness.StopTime"),newclasses:{stopTime:!0},validate:"required|decimal:3|min_value:1",id:"StopsTime"+this.stop.id,editable:{img:"/images/watingOrder.svg",after:"(MIN).",saveData:function(e,n){t.saveMillistones("stop_time",e,function(e){t.tour.stops=e.stops,t.tour.price=e.price,t.tour.tour_details=e.tour_details,t.tour.tour_dates=e.tour_dates,n()})}},numeric:!0}}},props:{stop:{required:!0},index:{required:!0},tour:{requried:!0}},watch:{},methods:{saveMillistones:function(t,e,n){var i={stop_id:this.stop.id};i[t]=e;var r={url:"/api/tours/edit/"+this.$route.params.tourId+"/tour_details",data:i,validate:this.$validator,failedValidate:function(t){},successServer:function(t){n(t.body)},failServer:function(t){}};this.$vss.post(r)},getStopAddress:function(t){if(!t||!t.stop_address)return"";var e=t.stop_address;return e.street+" "+e.home+", "+e.city+", "+e.region+", "+e.country.code}},components:{"kurier-stop-number":n(764)},created:function(){},mounted:function(){}}},764:function(t,e,n){var i=n(25)(n(765),n(766),!1,null,null,null);t.exports=i.exports},765:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{}},computed:{},props:{textColor:{required:!1,default:"#222222"}},watch:{},methods:{},components:{},created:function(){},mounted:function(){}}},766:function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{staticStyle:{"enable-background":"new 0 0 455.431 455.431"},attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 455.431 455.431","xml:space":"preserve"}},[e("path",{staticStyle:{fill:"#f6ab36"},attrs:{d:"M405.493,412.764c-69.689,56.889-287.289,56.889-355.556,0c-69.689-56.889-62.578-300.089,0-364.089  s292.978-64,355.556,0S475.182,355.876,405.493,412.764z"}}),this._v(" "),e("path",{staticStyle:{fill:"#ffde57"},attrs:{d:"M229.138,313.209c-62.578,49.778-132.267,75.378-197.689,76.8  c-48.356-82.489-38.4-283.022,18.489-341.333c51.2-52.622,211.911-62.578,304.356-29.867  C377.049,112.676,330.116,232.142,229.138,313.209z"}}),this._v(" "),e("text",{staticStyle:{"text-shadow":"0 0 10px rgba(255,255,255,0.5)","font-style":"italic"},attrs:{x:"50%",y:"55%",fill:this.textColor,"font-size":"300","dominant-baseline":"middle","text-anchor":"middle"}},[this._t("default")],2)])},staticRenderFns:[]}},767:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"kurier-offer stop-show"},[n("div",{staticClass:"klink-offer-head"},[n("div",{staticClass:"klink-offer-head-item"},[n("kurier-stop-number",{staticStyle:{"min-width":"30px"},attrs:{"data-toggle":"tooltip",title:t.trans("front.touroffers.stopindex")}},[t._v(t._s(t.index+1))]),t._v(" "),n("span",[n("span",{staticClass:"stop-name",staticStyle:{"margin-left":"0px","font-weight":"bold"}},[n("editable",t._b({staticStyle:{margin:"0"},model:{value:t.stop.name,callback:function(e){t.$set(t.stop,"name",e)},expression:"stop.name"}},"editable",t.tourStopNameProps,!1))],1)])],1),t._v(" "),n("div",{staticClass:"klink-offer-head-item text-right"},[n("span",{staticStyle:{"padding-right":"5px"}},[n("editable",t._b({model:{value:t.stop.stop_time,callback:function(e){t.$set(t.stop,"stop_time",e)},expression:"stop.stop_time"}},"editable",t.stopProps,!1))],1)])]),t._v(" "),n("div",{class:{"klink-offer-body":!0,active:!0}},[n("transition",{attrs:{name:"slide","enter-active-class":"animated slideInDown","leave-active-class":"animated slideOutUp"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],staticClass:"kurier-stop-body"},[t._v(t._s(t.getStopAddress(t.stop)))])])],1)])},staticRenderFns:[]}},768:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"stops-row-vertical"},[n("div",{staticClass:"stops-rows-wrapper"},[n("div",{staticClass:"stops-rows-header"},[t._v(t._s(t.trans("front.touroffers.stops")))]),t._v(" "),n("draggable",{staticClass:"stops-rows-container",attrs:{element:"div",options:t.dragOptions},on:{start:function(e){t.drag=!0},end:t.dragEnd},model:{value:t.tour.stops,callback:function(e){t.$set(t.tour,"stops",e)},expression:"tour.stops"}},t._l(t.tour.stops,function(e,i){return n("kurier-stop",{key:"stop"+e.stop_index+e.id,attrs:{stop:e,index:i,tour:t.tour}})}),1)],1)])},staticRenderFns:[]}},769:function(t,e,n){var i=n(25)(n(770),n(771),!1,null,null,null);t.exports=i.exports},770:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{shippings:[],distances:[],loading:!1,mytour:{price:0,ship_id:0}}},computed:{checkedAndErrors:function(){return!!(this.tour&&this.tour.tour_details&&this.shippings.length&&this.distances.length&&this.stopsGeneral.totalWeight)},isChanged:function(){return this.tour.ship_id!==this.mytour.ship_id},stops:function(){return this.tour.stops},allowStops:function(){return!(!this.tour||!this.tour.stops)&&this.tour.stops.length>1},stopsGeneral:function(){if(this.tour&&this.tour.tour_details){var t=Number(this.tour.tour_details.tour_total_packets_number),e=Number(this.tour.tour_details.tour_total_time),n=Number(this.tour.tour_details.tour_total_distance);return{numberOfPackets:t,totalTimeOfStops:e,timePerStop:Number(this.tour.tour_details.tour_average_stop_time),totalDistanceStops:n,numberOfStops:Number(this.tour.tour_details.number_of_stops),totalWeight:Number(this.tour.tour_details.tour_total_weight)}}return{}}},props:{tour:{required:!0}},watch:{},methods:{saveTourShip:function(t){var e=this;if(this.loading)return!1;this.loading=!0;var n={url:"/api/tours/edit/"+this.$route.params.tourId+"/tour_ship",data:{ship_id:this.mytour.ship_id,price:this.mytour.price},validate:this.$validator,successTitle:this.trans("front.touroffers.vehicleChangedTitle"),successBody:this.trans("front.touroffers.vehicleChanged"),failedValidate:function(t){},successServer:function(t){e.tour.ship_id=t.body.ship_id,e.tour.price=t.body.price,e.loading=!1},failServer:function(t){e.loading=!1}};this.$vss.post(n)}},components:{"tour-pricing":n(633)},created:function(){var t=this;this.$http.get("/api/shipping/getAll").then(function(e){t.shippings=e.body[0],t.distances=e.body[1]})},mounted:function(){}}},771:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"stops-row-vertical"},[n("div",{staticClass:"stops-rows-wrapper"},[n("div",{staticClass:"stops-rows-header"},[t._v(t._s(t.trans("front.touroffers.shipInformation")))]),t._v(" "),n("div",{staticClass:"stops-rows-container carsouel-no-margin"},[t.checkedAndErrors?n("tour-pricing",{attrs:{tour:t.mytour,stopsGeneral:t.stopsGeneral,shippings:t.shippings,distances:t.distances,stops:t.stops,loadTime:"stop_time",ship:t.tour.ship_id},on:{myveichleChanged:t.saveTourShip}}):t._e()],1)])])},staticRenderFns:[]}},772:function(t,e,n){var i=n(25)(n(773),n(774),!1,null,null,null);t.exports=i.exports},773:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(632);e.default={data:function(){return{inputs:i.a}},computed:{isDynamic:function(){return!!(this.tour.stops&&this.tour.stops.length>1)},minTotalTime:function(){return this.tour.tour_details.number_of_stops*this.tour.tour_details.tour_average_stop_time},tourNumberOfStopsProps:function(){var t=this;return Object.assign(this.inputs[0].props,{editable:{img:"/images/threemarkers.svg",after:"",saveData:function(e,n){t.saveMillistones("number_of_stops",e,function(e){t.tour.tour_details=e.tour_details,n()})},disabled:this.isDynamic,disabledMsg:{head:trans("front.touroffers.disabledMsgHead"),body:trans("front.touroffers.disabledMsgBody")}}})},tourTotalTimeProps:function(){var t=this;return Object.assign(this.inputs[4].props,{validate:"required|decimal|min_value:"+this.minTotalTime,editable:{img:"/images/stopwatch.svg",after:"(min)",saveData:function(e,n){t.saveMillistones("tour_total_time",e,function(e){t.tour.tour_details=e.tour_details,n()})},disabled:this.isDynamic,disabledMsg:{head:trans("front.touroffers.disabledMsgHead"),body:trans("front.touroffers.disabledMsgBody")}}})},averageStopTimeProps:function(){var t=this;return Object.assign(this.inputs[2].props,{editable:{img:"/images/watingOrder.svg",after:"(min)",saveData:function(e,n){t.saveMillistones("tour_average_stop_time",e,function(e){t.tour.tour_details=e.tour_details,t.tour.price=e.price,n()})}}})},packetsProps:function(){var t=this;return Object.assign(this.inputs[3].props,{editable:{img:"/images/boxes2.svg",after:"",saveData:function(e,n){t.saveMillistones("tour_total_packets_number",e,function(e){t.tour.tour_details=e.tour_details,n()})}}})},weightProps:function(){var t=this;return Object.assign(this.inputs[1].props,{editable:{img:"/images/weight-tool.svg",after:"(KG)",saveData:function(e,n){return t.saveMillistones("tour_total_weight",e,function(e){t.tour.ship_id=e.ship_id,t.tour.tour_ship=e.tour_ship,t.tour.tour_details=e.tour_details,n()})}}})}},props:{tour:{required:!0}},watch:{},methods:{saveMillistones:function(t,e,n){var i=this,r={};r[t]=e;var o={url:"/api/tours/edit/"+this.$route.params.tourId+"/tour_details",data:r,validate:this.$validator,failedValidate:function(t){n(i.tour)},successServer:function(t){n(t.body)},failServer:function(t){n(i.tour),console.log(t)}};this.$vss.post(o)}},components:{},created:function(){},mounted:function(){}}},774:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.tour&&t.tour.tour_details?n("div",{staticClass:"stops-row-vertical"},[n("div",{staticClass:"stops-rows-wrapper"},[n("editable",t._b({model:{value:t.tour.tour_details.tour_total_weight,callback:function(e){t.$set(t.tour.tour_details,"tour_total_weight",e)},expression:"tour.tour_details.tour_total_weight"}},"editable",t.weightProps,!1)),t._v(" "),n("editable",t._b({model:{value:t.tour.tour_details.tour_total_packets_number,callback:function(e){t.$set(t.tour.tour_details,"tour_total_packets_number",e)},expression:"tour.tour_details.tour_total_packets_number"}},"editable",t.packetsProps,!1)),t._v(" "),n("editable",t._b({model:{value:t.tour.tour_details.tour_average_stop_time,callback:function(e){t.$set(t.tour.tour_details,"tour_average_stop_time",e)},expression:"tour.tour_details.tour_average_stop_time"}},"editable",t.averageStopTimeProps,!1)),t._v(" "),n("editable",t._b({model:{value:t.tour.tour_details.tour_total_time,callback:function(e){t.$set(t.tour.tour_details,"tour_total_time",e)},expression:"tour.tour_details.tour_total_time"}},"editable",t.tourTotalTimeProps,!1)),t._v(" "),n("editable",t._b({model:{value:t.tour.tour_details.number_of_stops,callback:function(e){t.$set(t.tour.tour_details,"number_of_stops",e)},expression:"tour.tour_details.number_of_stops"}},"editable",t.tourNumberOfStopsProps,!1))],1)]):t._e()},staticRenderFns:[]}},775:function(t,e,n){var i=n(25)(n(776),n(792),!1,null,null,null);t.exports=i.exports},776:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{changingDates:!1,activeIndex:0,currentMonth:window.moment().month(),mytimes:[{props:{index:0,type:"every",options:{inputs:["type"],conditions:[0,1,2,3]},dates:{startDate:window.moment((new Date).setMinutes(0)),every:0,type:"months",condition:4,nextDay:null},headingText:trans("front.accounting.acctountingPeriod")}},{props:{index:1,type:"every",options:{inputs:["every","type"],conditions:[0,1,2,3,4]},dates:{startDate:window.moment((new Date).setMinutes(0)),every:1,type:"months",condition:5,nextDay:null},headingText:trans("front.accounting.payment")}},{props:{index:2,type:"law",options:{inputs:["every","type"],maxes:{days:window.moment.duration(3,"months").as("days").toFixed(),weeks:window.moment.duration(3,"months").as("weeks").toFixed(),months:window.moment.duration(3,"months").as("months").toFixed()},mins:{days:0,weeks:0,months:0},conditions:[0,1,2,3,4,5,6]},dates:{startDate:window.moment((new Date).setMinutes(0)),every:2,type:"weeks",condition:5,nextDay:null},headingText:trans("front.accounting.test")}},{props:{index:3,type:"law",options:{inputs:["every","type"],conditions:[0,1,2,3,4,5,6],mins:{days:0,weeks:0,months:0}},dates:{startDate:window.moment((new Date).setMinutes(0)),every:4,type:"weeks",condition:4,nextDay:null},headingText:trans("front.accounting.cancelation")}}]}},computed:{formData:function(){var t=this,e={formula:!0,accounting:{key:0,values:this.mytimes[0].props.dates},payment:{key:1,values:this.mytimes[1].props.dates},test:{key:2,values:this.mytimes[2].props.dates},cancelation:{key:3,values:this.mytimes[3].props.dates}};return{url:"/api/tours/save/dates/"+this.$route.params.tourId,data:e,validate:this.$validator,failedValidate:function(t){},successServer:function(e){t.tour.calculations=e.body.calculations,t.setTourCalculations()}}},validatedDates:function(){if(!this.tour||!this.tour.calculations)return!1;for(var t in this.fields)if(!1===this.fields[t].valid)return!1;return!0}},props:{tour:{required:!0}},watch:{},methods:{saveTour:function(){var t=this,e=["days","weeks","months"];this.tour.calculations.some(function(n){return t.mytimes[n.type].props.dates.every!==n.every||t.mytimes[n.type].props.dates.type!==e[n.time]||t.mytimes[n.type].props.dates.condition!==n.period})&&this.$vss.post(this.formData)},setTourCalculations:function(){var t=this;if(this.tour&&this.tour.calculations&&4===this.tour.calculations.length){var e=["days","weeks","months"];this.fromServer=!0,this.tour.calculations.map(function(n){t.mytimes[n.type].props.dates.every=n.every,t.mytimes[n.type].props.dates.type=e[n.time],t.mytimes[n.type].props.dates.condition=n.period}),this.$nextTick(function(){t.fromServer=!1})}}},components:{"my-calendar":n(777),"time-detect":n(783)},created:function(){this.setTourCalculations()},mounted:function(){}}},777:function(t,e,n){var i=n(25)(n(778),n(782),!1,null,null,null);t.exports=i.exports},778:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=[{options:{text:window.trans("front.accounting.sameDay"),value:0},every:function(t){return window.moment(t,"l")}},{options:{text:window.trans("front.accounting.startOfWeek"),value:1},every:function(t){var e=window.moment(t,"l").startOf("week");return e.isBefore(window.moment(t,"l"))?window.moment(e,"l").add(1,"week"):e}},{options:{text:window.trans("front.accounting.endOfWeek"),value:2},every:function(t){var e=window.moment(t,"l").endOf("week");return e.isBefore(window.moment(t,"l"))?window.moment(e,"l").add(1,"week"):e}},{options:{text:window.trans("front.accounting.startOfMonth"),value:3},every:function(t){var e=window.moment(t,"l").startOf("month");return e.isBefore(window.moment(t,"l"))?window.moment(e,"l").add(1,"month"):e}},{options:{text:window.trans("front.accounting.endOfMonth"),value:4},every:function(t){var e=window.moment(t,"l").endOf("month");return e.isBefore(window.moment(t,"l"))?window.moment(e,"l").add(1,"month"):e}},{options:{text:window.trans("front.accounting.halfOfMonth"),value:5},every:function(t){var e=window.moment(t,"l").set({date:15});return e.isBefore(window.moment(t,"l"))?window.moment(e).endOf("month"):e}},{options:{text:window.trans("front.accounting.endOfQuarter"),value:6},every:function(t){var e=window.moment(t,"l").endOf("quarter");return e.isBefore(window.moment(t,"l"))?window.moment(e,"l").add(1,"quarter"):e}},{options:{text:window.trans("front.accounting.halfYear"),value:7},every:function(t){var e=window.moment(t,"l").endOf("year").subtract(.5,"year");return e.isBefore(window.moment(t,"l"))?window.moment(e).endOf("year"):e}},{options:{text:window.trans("front.accounting.endOfYear"),value:8},every:function(t){var e=window.moment(t,"l").endOf("year");return e.isBefore(window.moment(t,"l"))?window.moment(e,"l").add(1,"year"):e}}];e.default={data:function(){return{conditionObject:i,showDayDetails:!1,currentMonth:window.moment(),weekDays:moment.weekdaysMin(!0),calculatingAccounting:!0,calculatingTests:!1,calculatingCancelation:!1,activatedDay:"",currentShownDay:!1,lastTrip:"",lastInvionce:""}},computed:{endDate:function(){if(!this.tour||!this.tour.tour_dates||!this.tour.tour_dates.tour_finish_date)return!1;var t=window.moment(this.tour.tour_dates.tour_finish_date,"YYYY-MM-DD");return!!t.isValid()&&(this.lastTrip="",t)},shownDetails:function(){return this.currentShownDay?this.currentShownDay:null},assumedPayments:function(){var t=[];if(this.calculatingAccounting)return[];if(this.paymentDates&&this.paymentDates.nextDay&&null!==this.paymentDates.nextDay){var e=window.moment(this.paymentDates.nextDay,"l");for(t.push(e);t[t.length-1].isBefore(window.moment(this.currentMonth,"l").add(2,"month"),"month");)t.push(this.addPaymentDate(t[t.length-1]))}return t.map(function(t){return t.format("l")})},accounting_dates:function(){var t=this;this.calculatingAccounting=!0;var e=[];if(this.accountingDates.nextDay&&null!==this.accountingDates.nextDay){var n=window.moment(this.accountingDates.nextDay,"l");for(e.push(n);e[e.length-1].isBefore(window.moment(this.currentMonth,"l").add(2,"month"),"month")&&!(this.endDate&&this.endDate.isValid()&&e[e.length-1].isAfter(this.endDate));)e.push(this.addAcountingDate(e[e.length-1]))}return this.$nextTick(function(){t.calculatingAccounting=!1}),e.map(function(t){return t.format("l")})},mypaymentDates:function(){var t=this.accounting_dates.map(function(t){return window.moment(t,"l")});return this.assumedPayments.filter(function(e){var n=window.moment(e,"l");if(0!==t.length&&t[0].isSameOrBefore(n)){for(;0!==t.length&&t[0].isSameOrBefore(n);)t.splice(0,1);return!0}return!1})},weeks:function(){var t=window.moment(this.currentMonth,"l").startOf("month").week();t=t>=52?0:t;var e=window.moment(this.currentMonth,"l").endOf("month").week();e=e>t?e:53;for(var n=[],i=t;i<=e;i+=1)n.push(i);return n},tourDates:function(){var t=["Mo","Di","Mi","Do","Fr","Sa","So"],e=[];if(!this.tour||!this.tour.tour_dates)return e;var n=this.tour.tour_dates.days;return"string"==typeof n&&(n=JSON.parse(n)),n.forEach(function(n){e.push(t.indexOf(n))}),this.lastTrip="",e}},props:{tour:{required:!0,type:Object},accountingDates:{required:!0},paymentDates:{required:!0},currentMonthTour:{required:!0},testDates:{required:!0},cancelationDates:{required:!0}},watch:{paymentDates:{handler:function(t){var e=this;this.calculatingAccounting=!0,this.$nextTick(function(){e.calculatingAccounting=!1})},deep:!0},testDates:{handler:function(t){var e=this;this.calculatingTests=!0,this.$nextTick(function(){e.calculatingTests=!1})},deep:!0},cancelationDates:{handler:function(t){var e=this;this.calculatingCancelation=!0,this.$nextTick(function(){e.calculatingCancelation=!1})},deep:!0}},methods:{getClassDay:function(t,e,n){return{active:this.activatedDay==="weekDay"+t.format("l")&&this.showDayDetails,"klink-day":!0,disabled:t.month()!==n.month(),tourDate:this.hasAtrip(t,e),testDate:this.isTest(t,e),endOfTest:this.isEndOfTest(t,e),cancelationDate:this.isCancelation(t,e)}},clickedDate:function(t,e,n,i){var r=this;this.showDayDetails=!1,this.currentShownDay=Object.assign(this.getClassDay(e,n,i),{currentDay:e.format("l")}),this.activatedDay="weekDay"+e.format("l");var o=t.target;if(!$(t.target).hasClass("klink-day")){if(!$(t.target).parents(".klink-day")||!$(t.target).parents(".klink-day")[0])return!1;o=$(t.target).parents(".klink-day")[0]}var s=o.offsetLeft-$("#calendar-show").width();0!==$(o).parents(".times-row-wrapper").length&&(s=o.offsetWidth+o.offsetLeft+30),$("#calendar-show").css({left:s-15,top:0,bottom:0}),this.$nextTick(function(){r.showDayDetails=!0,setTimeout(function(){var t=$("#calendar-show").offset().top;$("html, body").animate({scrollTop:t>15?t-15:t},600)},300)})},hasPayment:function(t,e){var n=this.mypaymentDates.indexOf(t.format("l"));return!(!this.endDate||!window.moment(t,"l").isAfter(this.endDate)||-1===n||0===n)||("days"===this.accountingDates.type&&"days"===this.paymentDates.type?this.hasAtrip(t,e)&&-1!==this.mypaymentDates.indexOf(t.format("l")):-1!==this.mypaymentDates.indexOf(t.format("l")))},hasInvionce:function(t,e){if(this.calculatingAccounting)return!1;var n=this.accounting_dates.indexOf(t.format("l"));return this.endDate&&this.endDate.isValid()&&-1!==n&&0!==n&&t.isAfter(this.endDate)?!!this.lastTrip.isAfter(window.moment(this.accounting_dates[n-1],"l")):"days"===this.accountingDates.type?this.hasAtrip(t,e)&&-1!==n:-1!==n},addAcountingDate:function(t){var e=window.moment(t,"l").add(this.accountingDates.every+1,this.accountingDates.type);return e=this.conditionObject[this.accountingDates.condition].every(e),this.lastInvionce=e,e},addPaymentDate:function(t){var e=this.paymentDates.every;(!e||e<1)&&(e=1);var n=window.moment(t,"l").add(e,this.paymentDates.type);return n=this.conditionObject[this.paymentDates.condition].every(n)},getWeekDays:function(t){var e=this;return Array(7).fill(0).map(function(n,i){return moment(e.currentMonth,"l").week(t).startOf("week").clone().add(n+i,"day")})},hasAtrip:function(t,e){arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.endDate&&this.endDate.isValid()&&t.isAfter(this.endDate))return!1;var n=-1!==this.tourDates.indexOf(e)&&window.moment(t,"l").isAfter(window.moment(this.tour.tour_dates.tour_start_date),"date");return this.lastTrip||(this.lastTrip=t),n&&this.lastTrip.isBefore(t)&&(this.lastTrip=t),n},isTest:function(t,e){return!(this.endDate&&this.endDate.isValid()&&t.isAfter(this.endDate))&&(!this.calculatingTests&&(!!this.hasAtrip(t,e)&&window.moment(this.testDates.nextDay,"l").isSameOrAfter(window.moment(t,"l"))))},isEndOfTest:function(t,e){return window.moment(t,"l").isSame(window.moment(this.testDates.nextDay,"l"),"day")&&!this.calculatingTests},isCancelation:function(t,e){return window.moment(t,"l").isSame(window.moment(this.cancelationDates.nextDay,"l"),"day")&&!this.calculatingCancelation},ChangeCurrent:function(t){this.currentMonth=window.moment(this.currentMonth,"l").add(t,"month")}},components:{"calendar-show":n(779)},created:function(){},mounted:function(){}}},779:function(t,e,n){var i=n(25)(n(780),n(781),!1,null,null,null);t.exports=i.exports},780:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{}},computed:{},props:{currentDay:{required:!1,default:""},active:{required:!1,default:!1},disabled:{required:!1,default:!1},tourDate:{required:!1,default:!1},testDate:{required:!1,default:!1},endOfTest:{required:!1,default:!1},cancelationDate:{required:!1,default:!1}},watch:{},methods:{closeCalendarObject:function(){this.$parent.showDayDetails=!1}},components:{},created:function(){},mounted:function(){var t=this;$(window).click(function(e){t.$parent.showDayDetails&&(1===$(e.target).parents("#calendar-show").length||e.target.id&&"calendar-show"===e.target.id||t.closeCalendarObject())})}}},781:function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"klink-calendar-object",attrs:{id:"calendar-show"}},[e("h3",{staticClass:"heading"},[e("img",{attrs:{src:"/images/calendar-with-spring-binder-and-date-blocks.svg"}}),this._v(" "),e("img",{staticClass:"close",attrs:{src:"/images/close.svg","data-toggle":"tooltip",title:this.trans("front.accounting.close")},on:{click:this.closeCalendarObject}}),this._v(" "),e("span",[this._v(this._s(this.currentDay))])])])},staticRenderFns:[]}},782:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"order-info-form"},[n("div",{staticClass:"klink-calendar-body"},[n("div",{staticClass:"klink-calendar-head"},[n("img",{staticClass:"prev",attrs:{src:"/images/chevron-arrow-up.svg","data-toggle":"tooltip",alt:"prev"},on:{click:function(e){t.ChangeCurrent(-1)}}}),t._v(" "),n("span",[t._v(t._s(t.currentMonth.format("MMMM-YYYY")))]),t._v(" "),n("img",{staticClass:"next",attrs:{src:"/images/chevron-arrow-up.svg","data-toggle":"tooltip",alt:"next"},on:{click:function(e){t.ChangeCurrent(1)}}})]),t._v(" "),n("div",{staticClass:"klink-week header"},t._l(t.weekDays,function(e){return n("div",{key:"head-day"+e,staticClass:"klink-day"},[t._v(t._s(e))])}),0),t._v(" "),t._l(t.weeks,function(e){return n("div",{key:"calendar-week-"+e,staticClass:"klink-week"},t._l(t.getWeekDays(e),function(e,i){return n("div",{key:"weekDay"+e,class:t.getClassDay(e,i,t.currentMonth),on:{click:function(n){for(var r=arguments.length,o=Array(r);r--;)o[r]=arguments[r];t.clickedDate.apply(void 0,o.concat([e],[i],[t.currentMonth]))}}},[n("span",[t._v(t._s(e.date()))]),t._v(" "),n("div",{staticClass:"day-image top"},[n("img",{directives:[{name:"show",rawName:"v-show",value:t.hasAtrip(e,i,!0),expression:"hasAtrip(weekDay,weekDayIndex,true)"}],attrs:{src:"/images/delivery-truck.svg",alt:"has trip","data-toggle":"tooltip",title:t.isTest(e,i)?t.trans("front.accounting.tripHereWithTest"):t.trans("front.accounting.tripHere")}}),t._v(" "),n("img",{directives:[{name:"show",rawName:"v-show",value:t.hasInvionce(e,i),expression:"hasInvionce(weekDay,weekDayIndex)"}],attrs:{src:"/images/invoice.svg",alt:"has bill","data-toggle":"tooltip",title:t.trans("front.accounting.invoiceHere")}})]),t._v(" "),n("div",{staticClass:"day-image bottom"},[n("img",{directives:[{name:"show",rawName:"v-show",value:t.hasPayment(e,i),expression:"hasPayment(weekDay,weekDayIndex)"}],attrs:{src:"/images/EuroCoin.svg",alt:"has bill","data-toggle":"tooltip",title:t.trans("front.accounting.invoiceHere")}})])])}),0)}),t._v(" "),n("transition",{attrs:{name:"zoom","enter-active-class":"animated zoomIn","leave-active-class":"animated zoomOut"}},[n("calendar-show",t._b({directives:[{name:"show",rawName:"v-show",value:t.showDayDetails,expression:"showDayDetails"}]},"calendar-show",t.shownDetails,!1))],1)],2)])},staticRenderFns:[]}},783:function(t,e,n){var i=n(25)(n(784),n(791),!1,null,null,null);t.exports=i.exports},784:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(636);e.default={data:function(){return{conditionObject:i.a,maxText:"",isShown:!1,inputs:[{props:{name:"sender"+trans("front.create.time"),placeholder:trans("front.create.chargingTime"),validate:"required",id:"sendertime",type:"timePicker",minDate:window.moment((new Date).setMinutes(0)).add("2","hours"),dateOnly:!0,newclasses:{"same-line":!0,"every-small":!0}},model:"startDate"},{props:{name:"every",placeholder:"every",validate:"required|decimal:3",id:"every",newclasses:{"same-line":!0,"every-small":!0},autoFocus:!0},model:"every"},{props:{name:"period",placeholder:trans("front.accounting.period"),validate:"required",id:"receiverisCompany",newclasses:{"same-line":!0},type:"select",options:[{value:"days",text:"day"},{value:"weeks",text:"week"},{value:"months",text:"month"}]},model:"type"}]}},computed:{maxDate:function(){},activeInputs:function(){return this.isShown&&this.$parent.activeIndex===this.index},ShowError:function(){var t=this;if(this.errors.has("every"+this.headingText)){var e=this.errors.items.filter(function(e){return e.field==="every"+t.headingText});return e.length<1?"":"min_value"===(e=e[0]).rule?"min_every":"max_value"===e.rule?"max_every":"true"}return""},myinputs:function(){var t=this,e=this.inputs.filter(function(e){return-1!==t.options.inputs.indexOf(e.model)});return e=e.map(function(e){return e.props.name=e.props.name+t.headingText.replace(" ",""),e.props.id=e.props.id+t.headingText.replace(" ",""),e})},nextDay:function(){var t=window.moment(this.conditionObject[this.dates.condition].every(this.dayBeforeCondition));return this.dates.nextDay=t.format("l"),t},dayBeforeCondition:function(){var t=window.moment(this.dates.startDate,"l");return window.moment(t).add(this.dates.every,this.dates.type)},condition:function(){return{model:"condition",props:{name:"receiver"+trans("front.create.isCompany"),placeholder:trans("front.create.isCompany"),validate:"required",id:"receiverisCompany",options:this.getOptions(),newclasses:{"same-line":!0},type:"select"}}}},props:{tour:{required:!0},type:{required:!1,default:"law"},dates:{required:!1,default:function(){return{startDate:window.moment((new Date).setMinutes(0)),every:0,type:"months",condition:3}}},options:{required:!1,default:function(){return{inputs:["startDate","every","type"],conditions:[0,1,2,3,4,5,6]}}},headingText:{required:!0,default:"Abrechnungszeitraum"},currentMonth:{required:!0},index:{required:!0}},watch:{},methods:{activateIndex:function(){this.isShown=!0,this.$parent.activeIndex=this.index},close:function(){this.isShown=!1,this.$parent.saveTour()},maxChanges:function(t){this.maxText=window.moment.duration(Number(t),this.dates.type).humanize()},getOptions:function(){var t=this;return[{text:"same day",value:0},{text:"end of week",value:1},{text:"too 15 of the month, or end of the month",value:2},{text:"end of  month",value:3},{text:"end of quarter",value:4},{text:"half year",value:5},{text:"end of year",value:6}].filter(function(e){return-1!==t.options.conditions.indexOf(e.value)})}},components:{"time-every":n(785),"time-law":n(788)},created:function(){this.inputs[0].props.minDate=window.moment(this.tour.tour_dates.tour_start_date);var t=this.tour.tour_dates.days;"string"==typeof t&&(t=JSON.parse(t)),this.dates.startDate=window.moment(this.tour.tour_dates.tour_start_date).day(t)},mounted:function(){var t=this;$(window).click(function(e){t.activeInputs&&0===$(e.target).parents("#timeDetectingParent"+t.index).length&&"timeDetectingParent"!==e.target.id&&t.close()})},inject:{$validator:"$validator"}}},785:function(t,e,n){var i=n(25)(n(786),n(787),!1,null,null,null);t.exports=i.exports},786:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(636);e.default={data:function(){return{conditionObject:i.a}},computed:{myinputs:function(){var t=this;return this.inputs.map(function(e){return"every"===e.model&&(e.props.validate="required|numeric|min_value:0|max_value:"+t.getMaxValue(t.dates.type)),e})},condition:function(){var t=this,e={model:"condition",props:{name:"select"+this.$parent.headingText,placeholder:trans("front.create.isCompany"),validate:"required",id:"receiverisCompany",newclasses:{"large-input":!0},type:"select"}};return"days"===this.dates.type&&(e.props.options=this.getCondtions([0])),"weeks"===this.dates.type&&(e.props.options=this.getCondtions([1,2])),"months"===this.dates.type&&(e.props.options=this.getCondtions([3,5,4])),e.props.options.some(function(e){return e.value===t.dates.condition})||(this.dates.condition=e.props.options[0].value),e}},watch:{},methods:{getMaxValue:function(t){var e=this.maxes;return this.maxChanges(e[t]),e[t]},getCondtions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0];return this.conditionObject.filter(function(e,n){return-1!==t.indexOf(n)}).map(function(t){return t.options})}},components:{},created:function(){},mounted:function(){},props:{inputs:{required:!0,type:Array},currentMonth:{required:!0},dates:{required:!0,type:Object},maxes:{required:!1,default:function(){return{days:window.moment.duration(60,"days").as("days").toFixed(),weeks:window.moment.duration(60,"days").as("weeks").toFixed(),months:window.moment.duration(60,"days").as("months").toFixed()}}},maxChanges:{required:!1,type:Function,default:function(t){return null}},headingText:{required:!0}},inject:{$validator:"$validator"}}},787:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"stops-inputs-head-main"},[n("div",{staticClass:"operation-div"},[n("img",{attrs:{src:"/images/close.svg",alt:"close"},on:{click:t.$parent.close}})]),t._v(" "),n("div",{staticClass:"heading-text"},[t._v(t._s(t.headingText))]),t._v(" "),n("div",{staticClass:"inputs-wrapper"},[t._l(t.myinputs,function(e){return n("input-parent",t._b({key:e.model,model:{value:t.dates[e.model],callback:function(n){t.$set(t.dates,e.model,n)},expression:"dates[input.model]"}},"input-parent",e.props,!1))}),t._v(" "),n("input-parent",t._b({model:{value:t.dates[t.condition.model],callback:function(e){t.$set(t.dates,t.condition.model,e)},expression:"dates[condition.model]"}},"input-parent",t.condition.props,!1))],2)])},staticRenderFns:[]}},788:function(t,e,n){var i=n(25)(n(789),n(790),!1,null,null,null);t.exports=i.exports},789:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(636);e.default={data:function(){return{conditionObject:i.a}},computed:{minDate:function(){return window.moment.duration(this.mins.days,"days").humanize()},myinputs:function(){var t=this;return this.inputs.map(function(e){return"every"===e.model&&(e.props.validate="required|numeric|min_value:"+t.getMinValue(t.dates.type)+"|max_value:"+t.getMaxValue(t.dates.type)),e})},condition:function(){var t=this,e={model:"condition",props:{name:"select"+this.$parent.headingText,placeholder:trans("front.create.isCompany"),validate:"required",id:"receiverisCompany",newclasses:{"large-input":!0},type:"select"}};return e.props.options=this.getCondtions(),e.props.options.some(function(e){return e.value===t.dates.condition})||(this.dates.condition=e.props.options[0].value),e}},watch:{},methods:{getMaxValue:function(t){var e=this.maxes;return this.maxChanges(e[t]),e[t]},getMinValue:function(t){return this.mins[t]},getCondtions:function(){return this.conditionObject.map(function(t){return t.options})}},components:{},created:function(){},mounted:function(){},props:{headingText:{required:!0},inputs:{required:!0,type:Array},currentMonth:{required:!0},dates:{required:!0,type:Object},maxes:{required:!1,type:Object,default:function(){return{days:window.moment.duration(10,"years").as("days").toFixed(),weeks:window.moment.duration(10,"years").as("weeks").toFixed(),months:window.moment.duration(10,"years").as("months").toFixed()}}},mins:{required:!1,type:Object,default:function(){return{days:window.moment.duration(3,"months").as("days").toFixed(),weeks:window.moment.duration(3,"months").as("weeks").toFixed(),months:window.moment.duration(3,"months").as("months").toFixed()}}},maxChanges:{required:!1,type:Function,default:function(t){return null}}},inject:{$validator:"$validator"}}},790:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"stops-inputs-head-main"},[n("div",{staticClass:"operation-div"},[n("img",{attrs:{src:"/images/close.svg",alt:"close"},on:{click:t.$parent.close}})]),t._v(" "),n("div",{staticClass:"heading-text"},[t._v(t._s(t.headingText))]),t._v(" "),n("div",{staticClass:"inputs-wrapper"},[t._l(t.myinputs,function(e){return n("input-parent",t._b({key:e.model,model:{value:t.dates[e.model],callback:function(n){t.$set(t.dates,e.model,n)},expression:"dates[input.model]"}},"input-parent",e.props,!1))}),t._v(" "),n("input-parent",t._b({model:{value:t.dates[t.condition.model],callback:function(e){t.$set(t.dates,t.condition.model,e)},expression:"dates[condition.model]"}},"input-parent",t.condition.props,!1))],2)])},staticRenderFns:[]}},791:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{"timing-row":!0,active:t.activeInputs},attrs:{id:"timeDetectingParent"+t.index}},[n("div",{class:{heading:!0,active:t.activeInputs}},[n("div",{staticClass:"heading-text"},[t._v(t._s(t.headingText))]),t._v(" "),n("div",{staticClass:"heading-body"},[n("span",{staticClass:"date-value",on:{click:t.activateIndex}},[t._v(t._s(t.nextDay.format("LL")))]),t._v(" "),"every"===t.type?n("span",{attrs:{"data-toggle":"tooltip",title:t.trans("front.touroffers.soOnTitle")}},[t._v(t._s(t.trans("front.touroffers.soOn")))]):t._e()])]),t._v(" "),"every"===t.type?n("transition",{attrs:{name:"zoom","enter-active-class":"animated zoomIn","leave-active-class":"animated zoomOut"}},[n("time-every",{directives:[{name:"show",rawName:"v-show",value:t.activeInputs,expression:"activeInputs"}],attrs:{currentMonth:t.currentMonth,inputs:t.myinputs,dates:t.dates,maxes:t.options.maxes,maxChanges:t.maxChanges,headingText:t.headingText}})],1):"law"===t.type?n("transition",{attrs:{name:"zoom","enter-active-class":"animated zoomIn","leave-active-class":"animated zoomOut"}},[n("time-law",{directives:[{name:"show",rawName:"v-show",value:t.activeInputs,expression:"activeInputs"}],attrs:{currentMonth:t.currentMonth,inputs:t.myinputs,dates:t.dates,maxes:t.options.maxes,mins:t.options.mins,maxChanges:t.maxChanges,headingText:t.headingText}})],1):t._e(),t._v(" "),"min_every"===t.ShowError?n("div",[t._v(t._s(t.trans("front.accounting.min_date_validation").replace(":attribute",t.headingText)))]):"max_every"===t.ShowError?n("div",[t._v(t._s(t.trans("front.accounting.max_date_validation").replace(":attribute",t.headingText).replace(":period",t.maxText)))]):"true"===t.ShowError?n("div",[t._v(t._s(t.errors.first("every"+t.headingText)))]):t._e()],1)},staticRenderFns:[]}},792:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"stops-row-vertical"},[n("div",{staticClass:"stops-rows-wrapper times-row-wrapper"},[t.validatedDates&&!t.changingDates?n("my-calendar",{attrs:{tour:t.tour,currentMonthTour:t.currentMonth,accountingDates:t.mytimes[0].props.dates,paymentDates:t.mytimes[1].props.dates,testDates:t.mytimes[2].props.dates,cancelationDates:t.mytimes[3].props.dates}}):t._e()],1),t._v(" "),n("div",{staticClass:"stops-rows-wrapper times-row-wrapper",staticStyle:{background:"#f5f6f7"}},[n("div",{staticClass:"times-rows"},t._l(t.mytimes,function(e,i){return n("time-detect",t._b({key:"time-detecting"+i,attrs:{tour:t.tour,currentMonth:t.currentMonth}},"time-detect",e.props,!1))}),1)])])},staticRenderFns:[]}},793:function(t,e,n){var i=n(25)(n(794),n(804),!1,null,null,null);t.exports=i.exports},794:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{loginOrRegister:"register"}},computed:{notCompleted:function(){return 1===this.tour.isAuth&&this.tour.userId>1}},props:{tour:{required:!0},acceptOffer:{required:!0},acceptedOffer:{required:!0}},watch:{"tour.isAuth":function(t,e){var n=this;1===t&&this.$nextTick(function(){n.tour.userId>0&&(console.log(n.tour.userId),window.Echo.private("App.User."+n.tour.userId).listen(".emailAuthenticated",function(t){t.authenticated_at&&(n.tour.isAuth=2,n.acceptOffer(n.acceptedOffer))}))})},loginOrRegister:function(t){"register"===t&&this.$nextTick(function(){$("#registerfirstName").focus()})},"$parent.loginDisabled":function(t){!0===t&&"register"===this.loginOrRegister&&this.$nextTick(function(){$("#registerfirstName").focus()})}},methods:{close:function(){this.$parent.acceptedOffer={}}},components:{"buissness-regsiter":n(795),"buissness-login":n(798),"kurier-validate":n(801)},created:function(){},mounted:function(){}}},795:function(t,e,n){var i=n(25)(n(796),n(797),!1,null,null,null);t.exports=i.exports},796:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{user:{first_name:"",nick_name:"",phone:"",email:"",password:""},inputs:[{props:{name:"register"+trans("front.create.firstName"),placeholder:trans("front.create.firstName"),validate:"required|max:255",id:"registerfirstName",newclasses:{"half-width":!0,odd:!0},autoFocus:!0},model:"first_name"},{props:{name:"register"+trans("front.create.lastName"),placeholder:trans("front.create.lastName"),validate:"required|max:255",id:"registerlastName",newclasses:{"half-width":!0}},model:"nick_name"},{props:{name:"register"+trans("front.create.phone"),placeholder:trans("front.create.phone"),validate:"required|phone|max:255",id:"registerphone",newclasses:{}},model:"phone"},{props:{name:"register"+trans("front.create.email"),placeholder:trans("front.create.email"),validate:"required|email|max:255",id:"registeremail"},model:"email"},{props:{name:"register"+trans("front.touroffers.password"),placeholder:trans("front.touroffers.password"),validate:"required|min:6|max:255",id:"registerPassword",inputType:"password"},model:"password"}]}},computed:{validatedAndErros:function(){if(this.errors&&0!==this.errors.items.length)return!1;for(var t in this.fields)if(!1===this.fields[t].valid)return!1;return!0},formData:function(){var t=this;return{url:"/api/register/"+this.$route.params.tourId,data:this.user,validate:this.$validator,failedValidate:function(t){},failServer:function(e){if(e.body.errors)for(var n in e.body.errors)e.body.errors[n].forEach(function(e){t.$snotify.warning(e,n,{timeOut:3500})})},successServer:function(e){t.tour.isAuth=e.body.isAuth,t.tour.userId=e.body.userId,console.log(t.tour.isAuth)}}}},props:{tour:{required:!0}},watch:{},methods:{registerNewUser:function(){this.$vss.post(this.formData)}},components:{},created:function(){},mounted:function(){}}},797:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"kurier-login-body-wrapper"},[t._l(t.inputs,function(e){return n("input-parent",t._b({key:"sender"+e.model,model:{value:t.user[e.model],callback:function(n){t.$set(t.user,e.model,n)},expression:"user[input.model]"}},"input-parent",e.props,!1))}),t._v(" "),n("div",{staticClass:"small-order-cell completeIt"},[n("div",{staticClass:"letsComplete btn",staticStyle:{display:"flex","align-items":"center"},on:{click:t.registerNewUser}},[t._v("\n      "+t._s(t.trans("front.touroffers.register"))+"\n      "),n("img",{directives:[{name:"show",rawName:"v-show",value:t.validatedAndErros,expression:"validatedAndErros"}],staticStyle:{"max-width":"20px","max-height":"20px"},attrs:{src:"/images/loading.svg",alt:""}})])])],2)},staticRenderFns:[]}},798:function(t,e,n){var i=n(25)(n(799),n(800),!1,null,null,null);t.exports=i.exports},799:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{}},computed:{},props:{},watch:{},methods:{},components:{},created:function(){},mounted:function(){}}},800:function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"kurier-login-body-wrapper"},[this._v("login")])},staticRenderFns:[]}},801:function(t,e,n){var i=n(25)(n(802),n(803),!1,null,null,null);t.exports=i.exports},802:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{checkcing:!1,sending:!1}},computed:{},props:{tour:{requried:!0}},watch:{},methods:{resend:function(){var t=this;if(!0===this.sending)return!1;this.sending=!0;var e={url:"/api/resend/"+this.$route.params.tourId,successServer:function(e){t.sending=!1},failServer:function(e){t.sending=!1}};this.$vss.post(e)},checkFormValiation:function(){var t=this;if(this.checkcing)return!1;this.checkcing=!0,this.$http.get("/api/tours/tour/"+this.$route.params.tourId).then(function(e){e.body.isAuth<=1?t.$snotify.warning(t.trans("front.touroffers.noValidationBody"),t.trans("front.touroffers.noValidationTitle"),{timeOut:3500}):(t.tour.isAuth=e.body.isAuth,t.tour.userId=e.body.userId),setTimeout(function(){t.checkcing=!1},3500)},function(e){setTimeout(function(){t.checkcing=!1},3500)})}},components:{},created:function(){},mounted:function(){}}},803:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"kurier-authentication-wrapper"},[n("div",{staticClass:"kurier-auth-message"},[n("img",{attrs:{src:"/images/email.svg",alt:"email",title:t.trans("front.touroffers.pleaseVerify"),"data-toggle":"tooltip"}}),t._v(" "),n("p",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.trans("front.touroffers.pleaseVerify")))]),t._v(" "),n("p",[t._v(t._s(t.trans("front.touroffers.verifyMessage")))]),t._v(" "),n("div",{staticClass:"buttons-wrapper"},[n("div",{staticClass:"kurier-auth-btn",attrs:{"data-toggle":"tooltip",title:t.trans("front.touroffers.resend")},on:{click:t.resend}},[n("img",{directives:[{name:"show",rawName:"v-show",value:!t.sending,expression:"!sending"}],attrs:{src:"/images/email-resend.svg",alt:""}}),t._v(" "),n("img",{directives:[{name:"show",rawName:"v-show",value:t.sending,expression:"sending"}],attrs:{src:"/images/ajax-loader.svg",alt:""}}),t._v(" "),n("span",[t._v(t._s(t.trans("front.touroffers.resend")))])]),t._v(" "),n("div",{staticClass:"kurier-auth-btn",attrs:{disabled:t.checkcing,"data-toggle":"tooltip",title:t.trans("front.touroffers.activated")},on:{click:t.checkFormValiation}},[n("img",{attrs:{src:"/images/email.svg",alt:""}}),t._v(" "),n("span",[t._v(t._s(t.trans("front.touroffers.activated")))])])])])])},staticRenderFns:[]}},804:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"kurier-login"},[n("div",{staticClass:"operations"},[n("img",{attrs:{"data-toggle":"tooltip",title:t.trans("front.touroffers.close"),src:"/images/close.svg",alt:"close"},on:{click:t.close}})]),t._v(" "),n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.notCompleted,expression:"!notCompleted"}],staticClass:"kurier-login-menu"},[n("div",{class:{"kurier-login-item":!0,active:"login"===t.loginOrRegister},on:{click:function(e){t.loginOrRegister="login"}}},[t._v(t._s(t.trans("front.touroffers.login")))]),t._v(" "),n("div",{class:{"kurier-login-item":!0,active:"register"===t.loginOrRegister},on:{click:function(e){t.loginOrRegister="register"}}},[t._v(t._s(t.trans("front.touroffers.register")))])])]),t._v(" "),n("transition",{attrs:{name:"fade"}},[t.notCompleted?t._e():n("div",{staticClass:"kurier-login-body"},[n("transition",{attrs:{name:"zoomSpecial","enter-active-class":"animated zoomIn absolute","leave-active-class":"animated zoomOut absolute"}},[n("buissness-regsiter",{directives:[{name:"show",rawName:"v-show",value:"register"===t.loginOrRegister,expression:"loginOrRegister==='register'"}],attrs:{tour:t.tour}})],1),t._v(" "),n("transition",{attrs:{name:"zoomSpecial","enter-active-class":"animated zoomIn absolute","leave-active-class":"animated zoomOut absolute"}},[n("buissness-login",{directives:[{name:"show",rawName:"v-show",value:"login"===t.loginOrRegister,expression:"loginOrRegister==='login'"}],attrs:{tour:t.tour}})],1)],1)]),t._v(" "),n("transition",{attrs:{name:"fade"}},[t.notCompleted?n("kurier-validate",{attrs:{tour:t.tour}}):t._e()],1)],1)},staticRenderFns:[]}},805:function(t,e,n){var i=n(25)(n(806),n(810),!1,null,null,null);t.exports=i.exports},806:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{}},computed:{},props:{tour:{required:!0}},watch:{},methods:{dataURItoBlob:function(t){var e;e=t.split(",")[0].indexOf("base64")>=0?atob(t.split(",")[1]):unescape(t.split(",")[1]);for(var n=t.split(",")[0].split(":")[1].split(";")[0],i=new Uint8Array(e.length),r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return new Blob([i],{type:n})},acceptTerms:function(t){var e=this;t=this.dataURItoBlob(t);var n=new FormData;n.append("avatars[]",t,"signature.svg"),console.log(n);var i={url:"/api/tours/accept/terms/"+this.$route.params.tourId,data:n,successServer:function(t){e.tour.tour_details=t.body.tour_details,$("#termsModal").modal("hide")}};this.$vss.post(i)},showTerms:function(){$("#termsModal").modal("show")}},components:{"kurier-terms":n(807)},created:function(){},mounted:function(){}}},807:function(t,e,n){var i=n(25)(n(808),n(809),!1,null,null,null);t.exports=i.exports},808:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{accept:[],currentIndex:0,currentReadingTime:0,term:"",sigOptions:{penColor:"rgb(0, 0, 0)",backgroundColor:"rgb(255,255,255)"}}},computed:{readingTime:function(){var t=this.terms.join("").split(/\s/g).length/550,e=Math.ceil(t);return this.currentReadingTime=60*e,60*e},tourTerms:function(){return this.tour&&this.tour.terms?(window.terms=this.tour.terms.layout,this.tour.terms.layout.split("Anlage")):""},terms:function(){var t=[],e=this.trans("front.termsAndContidion"),n=[];for(var i in e)6===n.length&&(t.push(n),n=[]),n.push(e[i]);return 0!==n.length&&t.push(n),this.accept=new Array(t.length).fill(0),this.$nextTick(function(){$('[data-toggle="tooltip"]').tooltip()}),t}},props:{tour:{required:!0},acceptTerms:{required:!0}},watch:{currentIndex:function(t){this.accept[t]=1}},methods:{saveSignature:function(){var t=this.$refs.signature.save("image/svg+xml");this.acceptTerms(t)},clear:function(){this.$refs.signature.clear()},undo:function(){this.$refs.signature.undo()},getTerms:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&(t="Anlage "+t);var e=t.replace(/&nbsp;/gi,"");e=e.split(/\r\n|\r|\n/);for(var n=[{class:"title",text:""}],i=0;i<e.length-1;){if(/^([0-9][.][0-9])/.test(e[i])||/^([0-9][.])/.test(e[i])){var r;if((r=e[i].split(/^([0-9][.][0-9])/))[1]&&/^([0-9][.][0-9])/.test(r[1]))r[1]="<b>"+r[1]+"</b> ";else(r=e[i].split(/^([0-9][.])/))[1]&&/^([0-9][.])/.test(r[1])&&(r[1]="<b>"+r[1]+"</b> ");r=r.join(" "),n.push({class:"kurier-term",text:r})}else n[n.length-1].text+=" "+e[i];0===i&&n.push({class:"only-text",text:""}),i+=1}return n},warning:function(){this.$snotify.warning(this.trans("front.touroffers.mustAccept"),this.trans("front.touroffers.mustAcceptTitle"),{timeOut:3e3})},activate:function(t){if(!this.accept[this.currentIndex]&&t>this.currentIndex)return this.warning(),!1;t<this.tourTerms.length+1&&(this.currentIndex=t)},close:function(){$("#termsModal").modal("hide")},next:function(){return this.accept[this.currentIndex]?this.currentIndex===this.tourTerms.length?(console.log("here"),this.accept.some(function(t){return!t})?(this.warning(),!1):(this.saveSignature(),!1)):void(this.currentIndex+=1):(this.warning(),!1)}},components:{},created:function(){},mounted:function(){}}},809:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal fade",attrs:{id:"termsModal",role:"dialog","aria-labelledby":"termsModalLabel","aria-hidden":"true"}},[n("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title",attrs:{id:"termsModalLabel"}},[t._v(t._s(t.trans("front.touroffers.readTerms")))]),t._v(" "),t._m(0)]),t._v(" "),t.tourTerms?n("div",{staticClass:"modal-body relative"}):t._e(),t._v(" "),n("transition-group",{staticClass:"modal-body relative terms-body",staticStyle:{height:"550px","overflow-x":"hidden","overflow-y":"auto"},attrs:{tag:"div",name:"zoomSpecial","enter-active-class":"animated zoomIn absolute","leave-active-class":"animated zoomOut absolute"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.currentIndex===t.tourTerms.length,expression:"currentIndex===tourTerms.length"}],key:"kureir-terms-list"+t.tourTerms.length,staticClass:"sinature"},[n("h5",{staticClass:"signature-title"},[t._v(t._s(t.trans("front.touroffers.signatureMessage")))]),t._v(" "),n("div",{staticClass:"terms-signature"},[t.currentIndex===t.tourTerms.length?n("vueSignature",{ref:"signature",attrs:{sigOption:t.sigOptions,w:"100%",h:"400px",disabled:!1}}):t._e(),t._v(" "),n("div",{staticClass:"signature-buttons"},[n("div",{staticClass:"signature-button",on:{click:t.clear}},[n("img",{attrs:{src:"/images/delete.svg"}}),t._v(" "),n("span",[t._v(t._s(t.trans("front.touroffers.clear")))])]),t._v(" "),n("div",{staticClass:"signature-button",on:{click:t.undo}},[n("img",{attrs:{src:"/images/back-drawn-arrow.svg"}}),t._v(" "),n("span",[t._v(t._s(t.trans("front.touroffers.undo")))])])])],1)]),t._v(" "),t._l(t.tourTerms,function(e,i){return n("div",{directives:[{name:"show",rawName:"v-show",value:i===t.currentIndex,expression:"mycurrentindex===currentIndex"}],key:"kureir-terms-list"+i,staticClass:"kurier-terms-list"},[t._l(t.getTerms(e,i>0),function(e){return n("div",{key:e.text,class:e.class},[t.accept[i]&&"kurier-term"===e.class?n("img",{attrs:{src:"/images/checked.svg","data-toogle":"tooltip",title:t.trans("front.touroffers.accepted"),alt:"accept"}}):"kurier-term"===e.class?n("img",{attrs:{src:"/images/close.svg","data-toogle":"tooltip",title:t.trans("front.touroffers.notYet"),alt:"accept"}}):t._e(),t._v(" "),n("span",{domProps:{innerHTML:t._s(e.text)}})])}),t._v(" "),n("checkbox",{staticClass:"accept-special",attrs:{name:"terms"},model:{value:t.accept[i],callback:function(e){t.$set(t.accept,i,e)},expression:"accept[mycurrentindex]"}},[t._v(t._s(t.trans("front.touroffers.acceptTitle")))])],2)})],2),t._v(" "),n("div",{key:"terms-dot",staticClass:"terms-dot"},t._l(t.tourTerms.length+1,function(e){return n("div",{key:"term-dot"+e,class:{dot:!0,active:t.currentIndex===e-1},attrs:{title:t.trans("front.touroffers.page")+" "+e,"data-toggle":"tooltip"},on:{click:function(n){t.activate(e-1)}}})}),0),t._v(" "),n("div",{staticClass:"modal-footer terms-footer"},[n("div",{staticClass:"modal-footer-buttons-wrapper"},[n("div",{staticClass:"modal-footer-button close",attrs:{"data-toggle":"tooltip",title:t.trans("front.touroffers.close")},on:{click:t.close}},[t._v(t._s(t.trans("front.touroffers.close")))]),t._v(" "),t.currentIndex<t.tourTerms.length?n("div",{staticClass:"modal-footer-button next",attrs:{"data-toggle":"tooltip",title:t.trans("front.touroffers.next")},on:{click:t.next}},[t._v(t._s(t.trans("front.touroffers.next")))]):n("div",{staticClass:"modal-footer-button accept",attrs:{"data-toggle":"tooltip",title:t.trans("front.touroffers.acceptTitle")},on:{click:t.next}},[t._v(t._s(t.trans("front.touroffers.accept")))])])])],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])}]}},810:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"kurier-login"},[n("div",{staticClass:"kurier-authentication-wrapper"},[n("div",{staticClass:"kurier-auth-message"},[n("p",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.trans("front.touroffers.readTermsHead")))]),t._v(" "),n("img",{attrs:{src:"/images/box.svg",alt:"email",title:t.trans("front.touroffers.readTermsHead"),"data-toggle":"tooltip"}}),t._v(" "),n("p",[t._v(t._s(t.trans("front.touroffers.readTermsBody")))]),t._v(" "),n("div",{staticClass:"buttons-wrapper"},[n("div",{staticClass:"kurier-auth-btn",staticStyle:{"justify-content":"center"},attrs:{"data-toggle":"tooltip",title:t.trans("front.touroffers.readTermsBody")},on:{click:t.showTerms}},[n("img",{staticStyle:{"margin-right":"5px"},attrs:{src:"/images/list.svg",alt:""}}),t._v(" "),n("span",[t._v(t._s(t.trans("front.touroffers.readTerms")))])])])])]),t._v(" "),n("kurier-terms",{attrs:{tour:t.tour,acceptTerms:t.acceptTerms}})],1)},staticRenderFns:[]}},811:function(t,e,n){var i=n(25)(n(812),n(813),!1,null,null,null);t.exports=i.exports},812:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{shoCase:1,paymentAmount:500,loading:!1}},computed:{},props:{tour:{required:!0}},watch:{"tour.accepted_offer":function(t,e){this.detectMinPaymentAmount()}},methods:{getPaymentImage:function(t){return"paypal"===t.method?"/images/paypal.svg":"/images/master.svg"},detectMinPaymentAmount:function(){return this.tour.tour_payments&&0!==this.tour.tour_payments.length&&(this.shoCase=2),this.tour.accepted_offer?(this.paymentAmount=this.tour.accepted_offer.company_offer,this.tour.accepted_offer.company_offer):500},paywith:function(t){var e=this;if(this.loading)return!1;this.loading=!0;var n={paymentAmount:this.paymentAmount,paymentMethod:t},i={url:this.detectPaymentUrl(t),data:n,successServer:function(t){window.location=t.body},failServer:function(t){e.loading=!1}};this.$vss.post(i)},detectPaymentUrl:function(t){return"sepa"===t||"paypal"===t?"/api/tours/pay/paypal/"+this.$route.params.tourId:"/api/tours/pay/wirecard/"+this.$route.params.tourId}},components:{},mounted:function(){this.detectMinPaymentAmount()}}},813:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"kurier-payments no-top"},[n("div",{staticClass:"kureir-payments-header"},[n("span",{class:{"kurier-payments-header-half":!0,active:1===t.shoCase},on:{click:function(e){t.shoCase=1}}},[t._v(t._s(t.trans("front.tourpayments.payment")))]),t._v(" "),n("span",{class:{"kurier-payments-header-half":!0,active:2===t.shoCase},on:{click:function(e){t.shoCase=2}}},[t._v(t._s(t.trans("front.tourpayments.paymentHistory")))])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:1===t.shoCase,expression:"shoCase===1"}],staticClass:"kurier-payments-methods"},[n("div",{staticClass:"kurier-payment-method"},[n("img",{class:{disabled:t.loading},attrs:{disabled:t.loading,src:"/images/paypal.svg",alt:"paypal"},on:{click:function(e){t.paywith("paypal")}}})]),t._v(" "),n("div",{staticClass:"kurier-payment-method"},[n("img",{class:{disabled:t.loading},attrs:{disabled:t.loading,src:"/images/visa.svg",alt:"visa"},on:{click:function(e){t.paywith("CCARD")}}})]),t._v(" "),n("div",{staticClass:"kurier-payment-method"},[n("img",{class:{disabled:t.loading},attrs:{disabled:t.loading,src:"/images/master.svg",alt:"master"},on:{click:function(e){t.paywith("CCARD")}}})]),t._v(" "),n("div",{staticClass:"kurier-payment-method"},[n("img",{class:{disabled:t.loading},attrs:{disabled:t.loading,src:"/images/maestro.svg",alt:"maestro"},on:{click:function(e){t.paywith("CCARD")}}})]),t._v(" "),n("div",{staticClass:"kurier-payment-method"},[n("img",{class:{disabled:t.loading},attrs:{disabled:t.loading,src:"/images/klarna.svg",alt:"klarna"},on:{click:function(e){t.paywith("SOFORTUEBERWEISUNG")}}})]),t._v(" "),n("div",{staticClass:"kurier-payment-method"},[n("img",{class:{disabled:t.loading},attrs:{disabled:t.loading,src:"/images/sofort.svg",alt:"sofort"},on:{click:function(e){t.paywith("SOFORTUEBERWEISUNG")}}})]),t._v(" "),n("div",{staticClass:"kurier-payment-method"},[n("img",{class:{disabled:t.loading},attrs:{disabled:t.loading,src:"/images/sepa.svg",alt:"sepa"},on:{click:function(e){t.paywith("sepa")}}})]),t._v(" "),n("div",{staticClass:"kurier-payment-method"},[n("img",{class:{disabled:t.loading},attrs:{disabled:t.loading,src:"/images/vorkasse.svg",alt:"vorkasse"},on:{click:function(e){t.paywith("CCARD")}}})])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:2===t.shoCase,expression:"shoCase===2"}],staticClass:"kuier-payment-history"},t._l(t.tour.tour_payments,function(e){return n("div",{key:"payment"+e.id,staticClass:"kurier-payment-details"},[n("span",{staticClass:"amount",attrs:{"data-toggle":"tooltip",title:t.trans("front.tourpayments.paidAt")+" ("+e.created_at+")"}},[t._v(t._s(e.amount))]),t._v(" "),n("img",{staticClass:"method",attrs:{src:t.getPaymentImage(e),alt:e.method}})])}),0)])},staticRenderFns:[]}},814:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container create-order-container"},[n("div",{staticClass:"form-map-container",staticStyle:{"margin-top":"20px"}},[n("div",{staticClass:"order-form-wrapper horozintal",staticStyle:{"padding-bottom":"20px"}},[n("div",{staticClass:"stops-wrapper offers-wrapper left"},[n("stops-information",{attrs:{tour:t.tour}}),t._v(" "),t.tour&&t.tour.calculations&&4==t.tour.calculations.length?n("tour-times",{attrs:{tour:t.tour}}):t._e()],1),t._v(" "),n("div",{staticClass:"stops-wrapper offers-wrapper right"},[n("ship-information",{attrs:{tour:t.tour}}),t._v(" "),t.tour&&t.tour.tour_details?n("tour-details",{attrs:{tour:t.tour}}):t._e(),t._v(" "),t.tour&&t.tour.stops?n("tour-stops",{attrs:{tour:t.tour}}):t._e()],1)]),t._v(" "),n("div",{staticClass:"order-info-form tour-info relative"},[n("transition",{attrs:{name:"zoomSpecial","enter-active-class":"animated zoomIn absolute","leave-active-class":"animated zoomOut absolute"}},[n("kurier-offers",{directives:[{name:"show",rawName:"v-show",value:!1===t.loginDisabled&&!t.offerDisabled,expression:"loginDisabled===false&&!offerDisabled"}],attrs:{isAuth:t.tour.isAuth,offerDisabled:t.offerDisabled,acceptOffer:t.acceptOffer,tour:t.tour}})],1),t._v(" "),n("transition",{attrs:{name:"zoomSpecial","enter-active-class":"animated zoomIn absolute","leave-active-class":"animated zoomOut absolute"}},[n("kurier-login",{directives:[{name:"show",rawName:"v-show",value:t.loginDisabled,expression:"loginDisabled"}],attrs:{tour:t.tour,acceptOffer:t.acceptOffer,acceptedOffer:t.acceptedOffer}})],1),t._v(" "),n("transition",{attrs:{name:"zoomSpecial","enter-active-class":"animated zoomIn absolute","leave-active-class":"animated zoomOut absolute"}},[n("kurier-accept",{directives:[{name:"show",rawName:"v-show",value:this.offerDisabled&&!this.loginDisabled&&!t.termsAccepted,expression:"this.offerDisabled &&\n      !this.loginDisabled&&!termsAccepted"}],attrs:{tour:t.tour}})],1),t._v(" "),n("transition",{attrs:{name:"zoomSpecial","enter-active-class":"animated zoomIn absolute","leave-active-class":"animated zoomOut absolute"}},[n("kurier-payment",{directives:[{name:"show",rawName:"v-show",value:this.offerDisabled&&!this.loginDisabled&&t.termsAccepted&&t.tour.isAuth>1,expression:"this.offerDisabled &&\n      !this.loginDisabled&&termsAccepted&&tour.isAuth>1"}],attrs:{tour:t.tour}})],1)],1)])])},staticRenderFns:[]}},821:function(t,e,n){var i=n(25)(n(742),n(814),!1,null,null,null);t.exports=i.exports}});